/*
 Navicat Premium Data Transfer

 Source Server         : 白衣少侠
 Source Server Type    : MySQL
 Source Server Version : 50714
 Source Host           : localhost:3306
 Source Schema         : bbk

 Target Server Type    : MySQL
 Target Server Version : 50714
 File Encoding         : 65001

 Date: 26/05/2018 22:37:06
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for bg_admin
-- ----------------------------
DROP TABLE IF EXISTS `bg_admin`;
CREATE TABLE `bg_admin`  (
  `admin_id` tinyint(3) UNSIGNED NOT NULL AUTO_INCREMENT,
  `admin_name` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `admin_pass` char(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `login_ip` varchar(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
  `login_nums` int(10) UNSIGNED NOT NULL DEFAULT 0,
  `login_time` int(10) UNSIGNED NOT NULL,
  `ad_role_id` tinyint(3) UNSIGNED NOT NULL DEFAULT 0 COMMENT '角色id',
  PRIMARY KEY (`admin_id`) USING BTREE,
  UNIQUE INDEX `admin_name`(`admin_name`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 6 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bg_admin
-- ----------------------------
INSERT INTO `bg_admin` VALUES (1, 'admin', '50605bdfb8786f8043db00cf5e97737e', '127.0.0.1', 194, 1527334623, 0);
INSERT INTO `bg_admin` VALUES (2, 'tester', '25d55ad283aa400af464c76d713c07ad', '127.0.0.1', 16, 1525670623, 11);
INSERT INTO `bg_admin` VALUES (3, 'smail', '25d55ad283aa400af464c76d713c07ad', '127.0.0.1', 9, 1521104605, 10);
INSERT INTO `bg_admin` VALUES (4, 'test2', '25d55ad283aa400af464c76d713c07ad', '223.152.241.107', 5, 1523604878, 14);
INSERT INTO `bg_admin` VALUES (5, 'test9', '25d55ad283aa400af464c76d713c07ad', '127.0.0.1', 3, 1525705299, 13);

-- ----------------------------
-- Table structure for bg_article
-- ----------------------------
DROP TABLE IF EXISTS `bg_article`;
CREATE TABLE `bg_article`  (
  `art_id` smallint(5) UNSIGNED NOT NULL AUTO_INCREMENT,
  `cate_id` smallint(5) UNSIGNED NOT NULL COMMENT '文章所属分类',
  `title` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '文章标题',
  `thumb` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'default.jpg' COMMENT '缩略图',
  `first_thumb` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '原图',
  `art_desc` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '文章描述',
  `content` text CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '文章内容',
  `author` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '文章作者',
  `hits` smallint(5) UNSIGNED NOT NULL DEFAULT 0 COMMENT '点击次数',
  `reply_nums` int(10) UNSIGNED NOT NULL DEFAULT 0 COMMENT '评论次数',
  `addtime` int(10) UNSIGNED NOT NULL COMMENT '添加时间',
  `is_recommend` enum('0','1') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '是否推荐',
  `is_del` enum('0','1') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '是否删除',
  PRIMARY KEY (`art_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 32 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bg_article
-- ----------------------------
INSERT INTO `bg_article` VALUES (1, 4, '传记', 'thumb_20170807143044617534.jpg', '', '第一个故事', '<h1><strong>起初，一位少侠拜访了一位名师，他们详谈了很久很久。后来，经过这位名师的指导，这个少侠终于从&ldquo;PHP之小白&rdquo;走向了&quot;PHP之大神&quot;的故事。</strong></h1>\r\n', '白衣少侠', 14, 0, 1502109044, '0', '1');
INSERT INTO `bg_article` VALUES (2, 2, '如何对待\"学习\"', 'thumb_20170807150122868057.gif', '', '要想学得好，就要好学心。', '<h3><strong>我曾经这样说过一句话：有些朋友学习技术，像一个大胖子，肚子大，脑袋大，看起来很唬人，但是腿很细，风一吹就倒了。就是说基础太差了，结果就是越学越迷茫，最后，就放弃了。因此我说&rdquo;基础很重要&rdquo; ,还有一点我要强调：在视频教程中我讲了很多的案例并布置了作用，一定要自己亲手把代码熟练的写出来，记住是亲手写出来，而不是照着我的代码抄，更不能是看懂了我的代码就以为自己掌握了，<span class=\"marker\">要知道&ldquo;看懂了&rdquo;和&ldquo;会写了&rdquo;之间差着十万八千里呢! </span>我们学习编程是&rdquo;做中学&rdquo;,<span class=\"marker\">是做的过程中学会的，而不是会了在做</span>，正是在编写一行行代码过程中，逐渐建立编程思想的，<span class=\"marker\">思想&rarr;代码这个过程是需要敲很多代码的。</span></strong></h3>\r\n', '白衣少侠', 13, 1, 1502110882, '1', '0');
INSERT INTO `bg_article` VALUES (3, 3, '选择可以，但不能停留太久', 'thumb_20170807150623036746.jpg', '', '人生有太多的选择，善于明辨，选择就容易了', '<h3><strong>坚持说：韩老师当时就把这个王同学骂了一顿，你太不像话了，你看你的同期同学，他们薪水基本上都能够在一万以上，你为什么就不坚持下去。现在不管是摆地摊还是做开发，你都给我坚持下去。你不要今天摆地摊，遇到了城管，你明天又去当厨师。你当厨师你又觉得油烟对身体有害，又去干出租车司机，不要转来转去。人家的时间都用在了努力，而你的时间却用在了选择，当你将放弃当作一种习惯，你一辈子也不会有出息。 韩老师告诉我们说，成功其实也不难，只要树立一个目标，不需要你是一个很强的人，不需要你很高智商，不需要你是千里马，你只要像老黄牛一样，每天哪怕做一点点，往目标前进一点点，你就会成功。可是成功又很难，因为在通往成功的路上，很少人能够坚持下来，在坚持的过程中，很多人都选择了&ldquo;放弃&rdquo;。</strong></h3>\r\n', '白衣少侠', 9, 1, 1502111183, '1', '0');
INSERT INTO `bg_article` VALUES (4, 5, '马云经典语录', 'thumb_20170807151337270797.jpg', '', '马云——电商之父', '<p>1、今天会很残酷,明天会更残酷,后天会很美好,但大部分人会死在明天晚上。</p>\r\n\r\n<p>2、你穷,是因为你没有野心。</p>\r\n\r\n<p>3、当你成功的时候,你说的所有话都是真理。</p>\r\n\r\n<p>4、我永远相信只要永不放弃,我们还是有机会的。</p>\r\n\r\n<p>5、我最后悔的事就是创立了&ldquo;阿里巴巴&rdquo;。</p>\r\n', '白衣少侠', 4, 0, 1502111617, '0', '0');
INSERT INTO `bg_article` VALUES (5, 6, '在线编辑器Ckeditor概述', 'thumb_20170813173404352691.jpg', '20170813173404352691.jpg', '我是《双世宠妃》中的小檀儿，请大家多多关照。', '<p><img alt=\"\" src=\"/Uploads/ckeditor/images/20170813/20170813095329579050.jpg\" style=\"height:246px; width:285px\" /></p>\r\n\r\n<h1>今天给大家将的课题是&ldquo;在线编辑器Ckeditor概述&rdquo;</h1>\r\n\r\n<h2><strong>概念与作用</strong></h2>\r\n\r\n<p>在线编辑器也叫作富文本编辑器，是一种通过浏览器来对文字、图片、音频和视频等富文本进行在线编辑的一种工具，通常也就是指HTML编辑器！</p>\r\n\r\n<p>为什么要有在线编辑器？</p>\r\n\r\n<p>其实，即使没有在线编辑器，我们也可以利用html标签对相关的内容进行排版和显示，但是html标签语言仅限于懂web技术的前端工程师，而且直接编写代码的效率非常低，同时也不能直接看到效果，为了提高内容编辑的效率以及普通非技术人员也能方便的操作，所以出现了在线编辑器！</p>\r\n\r\n<h2><strong>分类</strong></h2>\r\n\r\n<p>世面上的在线编辑器有很多，也各有各的优缺点，其中国外有一款比较成熟，也是目前国内使用的最多的一款叫作fckeditor，开源并且免费！</p>\r\n\r\n<p>目前，fckeditor一分为二：变成了ckeditor（文本编辑器，免费）+ ckfinder（文件管理器，收费软件，可以上传文件等其他功能）</p>\r\n\r\n<p>此外，目前使用的较多的还有百度编辑器！</p>\r\n', '小檀', 6, 0, 1502612885, '0', '0');
INSERT INTO `bg_article` VALUES (6, 9, '模型类的单例模式', 'thumb_20170813125949894758.jpg', '', '如何保证模型类的单例？', '<h1>模型类的单例模式</h1>\r\n\r\n<p>如果在一个功能（控制器）中，需要使用某个表的多次操作，应该使用该表的一个模型就可以完成全部的任务！</p>\r\n\r\n<p><strong>思考：</strong>如何保证模型类的单例？</p>\r\n\r\n<p>典型的，可以通过一个单例工厂来实现！（为什么不使用三私一公？因为基本上所有的模型类都需要单例模式，把所有的模型类都修改为三私一公比较麻烦，而且通过单例工厂来实现更加灵活！）</p>\r\n', '周洋', 5, 0, 1502621989, '0', '0');
INSERT INTO `bg_article` VALUES (7, 10, '修学储能', 'thumb_20170813132254289835.jpg', '', '成为“自由、幸福”的人', '<p>&ldquo;<strong>修学储能，先博后渊</strong>&rdquo;是<strong>毛泽东</strong>第一次来到&ldquo;板仓杨宅&rdquo;，成为杨昌济的入室弟子后，杨昌济给毛泽东指明求学之路时，告诫他要以&ldquo;坚忍&rdquo;二字为读书与为人之精神，终生为之不懈。这句话的意思是：<strong>在人生的道路上，要学习，就要贮备各种知识与才能，所以在学习的时候，应该先拓展自己知识面的广度，当广度达到一定水平后，再开始钻研知识的深度。</strong></p>\r\n\r\n<p>当一个年青人走进高校学府时，其目的就是学习知识，储备生存的能力。孔子日：&ldquo;质胜文则野，文胜质则史&rdquo;。就是说：一个人，光凭能力素质强，而学问修养不够，则无法约束自己，本身的能力反而成为一种野性的破坏之力。反之，<strong>如果光注重书本学问而缺乏实际能力的培养，那么知识也就成了死知识，学问也就成了伪学问。其人必定呆板，毫无实用。</strong>所以说，当代年青人应&ldquo;修学储能&rdquo;，均衡发展。<br />\r\n&nbsp;&nbsp;&nbsp; 然当今社会，我们青年人应该修什么学问，储哪种能力为先呢？这种想法是错误的。为什么呢？我们不光要在发挥自己天赋的同时，不要走入误区，那就是知识的涉猎能力不够。假如我们过早的框死了自己修学储能的范围，而不广泛学习多方涉猎，这对于我们今后是有百弊而无一利的。因此，我们要加强修学储能，要学习、学习再学习，在修学的同时储备实际的工作能。<strong>博是渊的基础，其意在于求学，则需注重平衡,不能冒然急于求成。渊是博的必然结果，真所谓水到渠成也。</strong></p>\r\n\r\n<p><strong>人生就短短的数十年光景，而世界上却有无穷无尽的值得我们去了解、去体验、去享受的事物，每一件都是那么有意义。</strong>诸如历史、哲学、科学、文学、音乐、绘画、经济、法律、政治等等，所以我们不能永远只偏向于一门，那将失去许多人生美丽的风景。但是如果每一样事情都只是粗略的了解一下的话，永远也体会不到他们的美好。而世界上很多事情到了一定的深度却总是相通的，比如音乐跟历史、哲学跟数学等等。所以我们要做的不能只专一艺，也不可一艺不专。可先博采众长，而后专注于一艺，最后做到触类旁通。</p>\r\n', '白衣少侠', 10, 0, 1502623374, '0', '0');
INSERT INTO `bg_article` VALUES (8, 4, '程序员的特点', 'thumb_20170813132840742133.jpg', '', '伟大的程序员', '<p>伟大的程序员都懒，所以他们在编写代码的时候能简化就简化、能封装就封装、重复的功能不再写第二次，调用已经封装好的方法，把握节奏。</p>\r\n', '程序员', 76, 2, 1502623720, '0', '0');
INSERT INTO `bg_article` VALUES (9, 6, '如何完成文章上一篇|下一篇功能？', 'default.jpg', 'default.jpg', '点击上一篇回到上一篇，下一篇回到下一篇', '<h2>完成文章上一篇|下一篇功能</h2>\r\n\r\n<p><strong>思考：</strong></p>\r\n\r\n<p>能不能直接将文章的id号减1或者加1？</p>\r\n\r\n<p><strong>回答：</strong>不能！因为文章可能被删除，id号就不一定连续，而且连续的id号不一定属于同一个类别！</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>基本原理：</strong></p>\r\n\r\n<p>如果当前文章的id号为10，分类号为8</p>\r\n\r\n<p>上一篇的文章的查询语句就应该是：</p>\r\n\r\n<p><strong>select * from bg_article where is_del=&rsquo;0&rsquo; and cate_id=8 and where art_id &lt; 10 order by art_id desc limit 1;</strong></p>\r\n\r\n<p>下一篇的文章的查询语句就应该是：</p>\r\n\r\n<p><strong>select * from bg_article where is_del=&rsquo;0&rsquo; and cate_id=8 and where art_id &gt; 10 order by art_id&nbsp; asc limit 1;</strong></p>\r\n', '白衣少侠', 1, 0, 1502891152, '0', '0');
INSERT INTO `bg_article` VALUES (10, 6, '模型、控制器概念', 'default.jpg', 'default.jpg', '基础模型与基础控制器', '<h1>模型类</h1>\r\n\r\n<p>所谓的模型类，就是把MVC中的数据处理单元的功能，封装到一个类中！</p>\r\n\r\n<p>由于数据处理单元都是和数据库进行交互，而数据表又是数据库的基本单元，所以，典型的，我们一般将一张数据表的所有操作，封装到一个模型类当中，也就是说，一张数据表就对应着PHP项目开发中的一个模型类！</p>\r\n\r\n<p><strong>思考：</strong></p>\r\n\r\n<p>如果项目中用到了多表查询，怎么办？</p>\r\n\r\n<p><strong>基本策略：</strong></p>\r\n\r\n<p>看看当前的业务逻辑主要是操作那张表，把整个业务逻辑放到这个对应的模型类中！</p>\r\n\r\n<p>每个表的操作模型，其实就是由某个模型类实例化出来的对象！</p>\r\n\r\n<p>所以，所谓的模型类，就是把针对某张表的所有操作封装成一个类，而该表的每一个操作，就对应着该模型对象的一个方法！</p>\r\n\r\n<h1>控制器类</h1>\r\n\r\n<p>我们一般将一系列相关或相似的功能，使用一个控制器来处理！而该控制器内的每一个方法，就对应着某一个具体的功能，比如：增加学生，删除学生，修改学生的成绩等，可以用一个学生控制器类来完成就可以！</p>\r\n\r\n<p>所以，控制器类是按功能来划分的！而不是像模型类是按数据表来划分的！</p>\r\n\r\n<p>而且，一个模型可以在多个功能中使用！</p>\r\n', '白衣少侠', 1, 0, 1502891512, '0', '0');
INSERT INTO `bg_article` VALUES (11, 6, '自动加载实现', 'default.jpg', '', '自动加载类', '<h1>自动加载实现</h1>\r\n\r\n<h2>基本思想</h2>\r\n\r\n<p><strong>思考：</strong></p>\r\n\r\n<p>有哪些类文件需要加载？</p>\r\n\r\n<p><strong>回答：</strong></p>\r\n\r\n<p>一共有三种：</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.框架核心类（已经确定好了）</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.控制器类（可以增加）</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.模型类（可以增加）</p>\r\n\r\n<p>对于所有的类，可以分成两个方面来考虑：</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.对于已经确定好了的类，最好采用最简洁的方式进行直接加载！</p>\r\n\r\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.对于不确定的可以增加的类，需要通过类名的规律，完成其位置的判断，然后再进行自动的加载！</p>\r\n\r\n<p><strong>其基本规律是：</strong></p>\r\n\r\n<p>对于以Controller结尾的类，说明是控制器类，应该在当前对应的平台下的Controller目录进行载入！</p>\r\n\r\n<p>对于以Model结尾的类，说明是模型类，应该在当前对应的平台下的Model下进行载入！</p>\r\n', '白衣少侠', 4, 0, 1502891728, '1', '0');
INSERT INTO `bg_article` VALUES (12, 6, '引入PDO', 'default.jpg', 'default.jpg', '引入PDO之后，用户可以自己选择到底是使用MySQL扩展还是PDO扩展', '<h1>引入PDO</h1>\r\n\r\n<h2>基本需求</h2>\r\n\r\n<p>引入PDO之后，用户可以自己选择到底是使用MySQL扩展还是PDO扩展，只需要在配置文件中进行配置就行了，而不需要修改项目中的其他的任何代码，实现<strong>无缝切换</strong>！</p>\r\n\r\n<h2>基本策略</h2>\r\n\r\n<p><strong>封装MySQLDB类和PDODB类，让二者都实现（implements）相同的接口！</strong></p>\r\n', '白衣少侠', 3, 0, 1502891971, '0', '0');
INSERT INTO `bg_article` VALUES (13, 6, '防止SQL注入', 'default.jpg', '', '用户在填写表单或者其他数据的时候，通过一些特殊的数据形式，对SQL的行为作出了非法的影响', '<h2>概念</h2>\r\n\r\n<p>如果用户在填写表单或者其他数据的时候，通过一些特殊的数据形式，对SQL的行为作出了非法的影响，就叫作SQL注入！</p>\r\n\r\n<h2>基本原理</h2>\r\n\r\n<p>正常执行的sql语句：</p>\r\n\r\n<p><strong>select * from bg_admin where admin_name=&#39;baiyishaoxia&#39; and admin_pass=md5(&#39;12345678&#39;)</strong></p>\r\n\r\n<p>不正常执行的sql语句：</p>\r\n\r\n<p><strong>select * from bg_admin where admin_name=&#39;&#39; or 1 #&#39; and </strong></p>\r\n\r\n<p><strong>admin_pass=md5(&#39;123654uiykgjfhdsav&#39;)</strong></p>\r\n\r\n<p>拆分分析：</p>\r\n\r\n<p>由于#在sql语句中是注释符，所以，上面的SQL语句真正执行的是：</p>\r\n\r\n<p><strong>select * from bg_admin where admin_name=&#39;&#39; or 1</strong></p>\r\n\r\n<p>很显然，上面执行的结果就是where后面的条件永远为真！其实就相当于：</p>\r\n\r\n<p><strong>select * from bg_admin</strong></p>\r\n\r\n<p>也就是说，只要bg_admin表中有正常的管理用户，就可以查询到数据！</p>\r\n\r\n<p>其实，在这里可以进行sql注入的&ldquo;用户名&rdquo;还有很多，比如：</p>\r\n\r\n<p><strong>&nbsp;&lsquo; or 1 or &lsquo;</strong></p>\r\n\r\n<p><strong>&nbsp;&nbsp; select * from bg_admin where admin_name=&#39;&#39; or 1 or &#39;&#39; and admin_pass=md5(&#39;ewsdfgbnvb&#39;)</strong></p>\r\n\r\n<p><strong>特别强调：</strong></p>\r\n\r\n<p>1.不仅仅是在用户登录的时候，SQL语句可以被注入，其他任何用户的数据只要参与执行，都有可能被注入！</p>\r\n\r\n<p>2.SQL注入的危害非常之大，有时候甚至可以删除服务器上的整个数据库：</p>\r\n\r\n<p><strong>比如：</strong></p>\r\n\r\n<p>用户名为：<strong>&#39; or 1;drop database php2017;#</strong></p>\r\n', '白衣少侠', 9, 1, 1502892209, '0', '0');
INSERT INTO `bg_article` VALUES (14, 6, '缩略图', 'default.jpg', 'default.jpg', '有时候在项目中，由于排版的需要，在显示图片的时候，宽和高都不是很大，但是可能用户上传的图片却很大！', '<h1>缩略图</h1>\r\n\r\n<h2>意义</h2>\r\n\r\n<p>有时候在项目中，由于排版的需要，在显示图片的时候，宽和高都不是很大，但是可能用户上传的图片却很大！所以可以根据项目排版的实际需要将原图生成相应的缩略图，以节省用户的传输带宽，提高用户的体验度！</p>\r\n\r\n<p><strong>注意：</strong>此时并不是用户上传的原图就没有用了，而是根据需要选择到底是使用缩略图还是使用原图，比如在列表页使用缩略图，在内容页（详情页）使用原图！</p>\r\n\r\n<h2>基本过程</h2>\r\n\r\n<h3>第一步：采样</h3>\r\n\r\n<p>也就是从原图上采集需要被复制的图像区域！</p>\r\n\r\n<h3>第二步：拷贝</h3>\r\n\r\n<p>也就是将采集的图样信息，拷贝到某个缩略图画布上！也就是说，除了原图画布之外，还需要创建一个缩略图画布！</p>\r\n\r\n<h3>第三步：修改</h3>\r\n\r\n<p>也就是修改拷贝之后的区域大小！</p>\r\n\r\n<p>比如：和缩略图的最大的宽和最大的高保持一致！</p>\r\n\r\n<h2>代码实现</h2>\r\n\r\n<p>以上的三个步骤，其实就是通过一个gd库的扩展函数来实现的：</p>\r\n\r\n<p><strong>imagecopyresampled()</strong></p>\r\n\r\n<p>其中resample就是重新采样的意思！</p>\r\n\r\n<p>思考：</p>\r\n\r\n<p>该函数需要哪些参数？</p>\r\n\r\n<p>1.两个画布资源：原图画布和缩略图画布，分别是$src_img和$dst_img</p>\r\n\r\n<p>2.原图采集区域：也就是在原图的一个矩形区域，其中有左上角坐标($src_x, $src_y)，宽($src_w)和高($src_h)</p>\r\n\r\n<p>3.拷贝到缩略图上的位置与大小：也就是最终拷贝到缩略图画布上的矩形，也有左上角坐标($dst_x,$dst_y)，宽($dst_w)和高($dst_h)</p>\r\n\r\n<p>一共有十个参数！</p>\r\n\r\n<p><strong>记忆技巧：</strong></p>\r\n\r\n<p>用于是目标缩略图的参数在前，而原图在后！参数的顺序为：画布资源，左上角坐标和宽高！</p>\r\n\r\n<p><strong>imagecopyresampled($dst_img,</strong><strong>$src_img,</strong><strong>$dst_x,$dst_y,</strong><strong>$src_x,$src_y,</strong><strong>$dst_w,$dst_h,</strong><strong>$src_w,$src_h</strong><strong>)</strong></p>\r\n', '白衣少侠', 5, 0, 1502895234, '0', '0');
INSERT INTO `bg_article` VALUES (15, 15, '招聘PHP', 'default.jpg', '', '招聘大量人才前来发展', '<p><strong>职位描述</strong><br />\r\n1.根据公司需求，进行系统的技术架构和概要设计<br />\r\n2.服务器端PHP软件的设计，开发和维护<br />\r\n3.APP后台接口编写<br />\r\n<br />\r\n<strong>职位要求：</strong><br />\r\n1.2年以上PHP开发经验，至少熟悉一个PHP的开源框架，如：THINKPHP、CI、YII等；<br />\r\n2.熟悉Js,html,css,ajax等前端技术，<br />\r\n3.对数据库设计及SQL优化有一定的了解<br />\r\n4.具有扎实的编程基础，良好的编码习惯，了解代码管理及版本控制<br />\r\n5.有成熟的项目经理，能解决实际开发中遇到的问题</p>\r\n\r\n<h3><strong>工作地址</strong></h3>\r\n\r\n<h3>深圳宝安区坪洲地铁站C口名优工业区b座1区506</h3>\r\n\r\n<p>薪资：8k-12k</p>\r\n', '宝安区', 6, 0, 1503204286, '0', '0');
INSERT INTO `bg_article` VALUES (16, 15, 'php高级工程师', 'default.jpg', '', '招聘', '<p><strong>职位描述：</strong><br />\r\n【工作职责】：<br />\r\n1、负责和产品经理搜集客户需求，参与产品原型设计；<br />\r\n2、能深入理解客户需求，主导产品开发工作；<br />\r\n3、负责前台页面开发、php业务逻辑开发和后台应用开发<br />\r\n<br />\r\n<strong>任职要求：</strong><br />\r\n1.能够独立完成网站的前后台程序开发部署工作；&nbsp;<br />\r\n2.精通PHP+MYSQL/mongodb模式开发，熟练使用yii2/laravel/bootstrap开发；&nbsp;<br />\r\n3.熟悉JavaScript、Ajax、HTML\\CSS等相关技术；&nbsp;<br />\r\n4.代码书写规范，熟悉W3C标准，熟悉MVC开发模式；&nbsp;<br />\r\n5.有团队合作开发经验，熟悉svn或gitm;&nbsp;<br />\r\n6、具有一定的项目开发管理经验；<br />\r\n7、有商城分销系统、互联网金融等项目经验者优先。</p>\r\n\r\n<h3><strong>工作地址</strong></h3>\r\n\r\n<p>深圳市 龙华区 尚美时代广场 402、403</p>\r\n\r\n<p>薪资：8k-12k</p>\r\n', '宝安区', 5, 0, 1503204294, '1', '0');
INSERT INTO `bg_article` VALUES (17, 15, '宝安简介', 'default.jpg', '', '深圳宝安区', '<p>宝安区，地处广东省<a href=\"https://baike.baidu.com/item/%E6%B7%B1%E5%9C%B3%E5%B8%82\" target=\"_blank\">深圳市</a>西部，西临珠江口，东接<a href=\"https://baike.baidu.com/item/%E9%BE%99%E5%B2%97%E5%8C%BA\" target=\"_blank\">龙岗区</a>，南连南山区、<a href=\"https://baike.baidu.com/item/%E7%A6%8F%E7%94%B0%E5%8C%BA\" target=\"_blank\">福田区</a>，西临伶仃洋，北靠<a href=\"https://baike.baidu.com/item/%E4%B8%9C%E8%8E%9E\" target=\"_blank\">东莞</a>市。总面积392.14平方公里，下辖新安、西乡、福永、沙井、松岗、石岩等6个街道（含光明、龙华新区）。</p>\r\n', '白衣少侠', 7, 0, 1503204304, '1', '0');
INSERT INTO `bg_article` VALUES (18, 6, '自上而下，逐步揭开 PHP 解析大整数的面纱', 'default.jpg', '', '逐步揭开 PHP 解析大整数的面纱', '<p>浮点数精度丢失是一个长久的问题，PHP中精度丢失并不是PHP的bug，是计算机表示范围导致的问题。精度，这个问题的原因看起来不太重要，虽然学这个对于实际上的业务开发也没什么用，不会让你的开发能力&ldquo;duang&rdquo;地一下上去几个level，但是了解了PHP对于大整数的处理，也是自己知识框架的一个小小积累。</p>\r\n\r\n<h2>遇到的问题</h2>\r\n\r\n<p>最近遇到一个PHP大整数的问题，问题代码是这样的</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>$shopId</code> <code>= 17978812896666957068;&nbsp; var_dump(</code><code>$shopId</code><code>);</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>上面的代码输出，会把$shopId转换成float类型，且使用了科学计数法来表示，输出如下：</p>\r\n\r\n<blockquote>\r\n<p>float(1.7978812896667E+19)</p>\r\n</blockquote>\r\n\r\n<p>但在程序里需要的是完整的数字作为查找数据的参数，所以需要用的是完整的数字，当时以为只是因为数据被转换成科学计数法了，于是想到的解决方案是强制让它不使用科学计数法表示：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>$shopId</code><code>= number_format(17978812896666957068);&nbsp; var_dump(</code><code>$shopId</code><code>);</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>这时候奇怪的事情出现了，输出的是：</p>\r\n\r\n<blockquote>\r\n<p>17978812896666957824</p>\r\n</blockquote>\r\n\r\n<p>当时没有仔细看，对比了前十位就没有继续往下看，所以认为问题解决了，等到真正根据ID去找数据的时候才发现数据查不出来，这时候才发现是数据转换错误了。</p>\r\n\r\n<p>这里使用number_format失败的原因在后面会讲到，当时就想到将原来的数据转成字符串的，但是使用了以下方法仍然不行</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>$shopId</code><code>=&nbsp;</code><code>strval</code><code>(17978812896666957068);&nbsp; var_dump(</code><code>$shopId</code><code>);</code></p>\r\n\r\n			<p><code>$shopId</code> <code>= 17978812896666957068 .&nbsp;</code><code>&#39;&#39;</code><code>;&nbsp; var_dump(</code><code>$shopId</code><code>);</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>输出的结果都是</p>\r\n\r\n<blockquote>\r\n<p>float(1.7978812896667E+19)</p>\r\n</blockquote>\r\n\r\n<p>最后只有下面这种方案是可行的：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>$shopId</code> <code>=&nbsp;</code><code>&#39;17978812896666957068&#39;</code><code>;&nbsp; var_dump(</code><code>$shopId</code><code>);</code></p>\r\n\r\n			<p><code>// 输出&nbsp; // string(20) &quot;17978812896666957068&quot;</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>众所周知，PHP是一门解释型语言，所以当时就大胆地猜测PHP是在编译期间就将数字的字面量常量转换成float类型，并用科学计数法表示。但仅仅猜测不能满足自己的好奇心，想要看到真正实现代码才愿意相信。于是就逐步分析、探索，直到找到背后的实现。</p>\r\n\r\n<p>刚开始根据这个问题直接上网搜&ldquo;PHP大整数解析过程&rdquo;，并没有搜到答案，因此只能自己去追查。一开始对PHP的执行过程不熟悉，出发点就只能是一步一步地调试，然后</p>\r\n\r\n<p>示例代码：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>// test.php&nbsp; $var = 17978812896666957068;&nbsp; var_dump($var);</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<h2>追查过程</h2>\r\n\r\n<p>1、查看opcode 通过vld查看PHP执行代码的opcode，可以看到，赋值的是一个ASSIGN的opcode操作</p>\r\n\r\n<p>接下来就想看看ASSIGN是在哪里执行的。</p>\r\n\r\n<p>2、gdb调试 2-1、用list查看有什么地方可以进行断点</p>\r\n\r\n<p>2-2、暂时没有头绪，在1186断点试试<img alt=\"php整数03\" src=\"http://7u2eqw.com1.z0.glb.clouddn.com/PHP%E5%A4%A7%E6%95%B4%E6%95%B0%20%283%29.png\" style=\"height:auto; margin:0px auto\" /></p>\r\n\r\n<p>结果程序走到sapi/cli/php_cli.c文件的1200行了，按n不断下一步执行，一直到这里就走到了程序输出结果了：</p>\r\n\r\n<p>2-4、于是可以猜测，ASSIGN操作是在do_cli函数里面进行的，因此对do_cli函数做断点：break do_cli。 输入n，不断回车，在sapi/cli/php_cli.c文件的993行之后就走到程序输出结果了：<img alt=\"php整数05\" src=\"http://7u2eqw.com1.z0.glb.clouddn.com/PHP%E5%A4%A7%E6%95%B4%E6%95%B0%20%285%29.png\" style=\"height:auto; margin:0px auto\" /></p>\r\n\r\n<p>2-5、再对php_execute_script函数做断点：break php_execute_script 不断逐步执行，发现在main/main.c文件的2537行就走到程序输出结果了：<img alt=\"php整数06\" src=\"http://7u2eqw.com1.z0.glb.clouddn.com/PHP%E5%A4%A7%E6%95%B4%E6%95%B0%20%286%29.png\" style=\"height:auto; margin:0px auto\" /></p>\r\n\r\n<p>2-6、继续断点的步骤：break zend_execute_scripts 重复之前的步骤，发现在zend/Zend.c文件的1476行走到了程序输出结果的步骤：<img alt=\"php整数07\" src=\"http://7u2eqw.com1.z0.glb.clouddn.com/PHP%E5%A4%A7%E6%95%B4%E6%95%B0%20%287%29.png\" style=\"height:auto; margin:0px auto\" /></p>\r\n\r\n<p>看到这里的时候，第1475行里有一个op_array，就猜测会不会是在op_array的时候就已经有值了，于是开始打印op_array的值：</p>\r\n\r\n<p>打印之后并没有看到有用的信息，但是其实这里包含有很大的信息量，比如opcode的handler:&nbsp;<strong>ZEND_ASSIGN_SPEC_CV_RETVAL_CV_CONST_RETVAL_UNUSED_HANDLER</strong>，但是当时没注意到，因为就想着看看op_array是怎么被赋值的，相关步骤做了什么，忽略了这个重要的信息，之后还是会回到这个handler。</p>\r\n\r\n<p>2-7、重新从2-5的断点开始，让程序逐步执行，看到op_array的赋值如下：</p>\r\n\r\n<p>将zend_compile_file函数运行的结果赋值给op_array了，于是break zend_compile_file，被告知zend_compile_file未定义，通过源码工具追踪到zend_compile_file指向的是compile_file，于是break zend_compile</p>\r\n\r\n<p>发现是在Zend/zend_language_scanner.l 文件断点了，逐步执行，看到这行pass_two(op_array)，猜测可能会在这里就有值，所以打印看看：</p>\r\n\r\n<p>结果发现还是跟之前的一样，但是此时看到有一个opcodes的值，打印看看<img alt=\"php整数11\" src=\"http://7u2eqw.com1.z0.glb.clouddn.com/PHP%E5%A4%A7%E6%95%B4%E6%95%B0%20%2811%29.png\" style=\"height:auto; margin:0px auto\" /></p>\r\n\r\n<p><img alt=\"php整数12\" src=\"http://7u2eqw.com1.z0.glb.clouddn.com/PHP%E5%A4%A7%E6%95%B4%E6%95%B0%20%2812%29.png\" style=\"height:auto; margin:0px auto\" /></p>\r\n\r\n<p>看到opcode = 38，网上查到38代表赋值</p>\r\n\r\n<p><img alt=\"php整数13\" src=\"http://7u2eqw.com1.z0.glb.clouddn.com/PHP%E5%A4%A7%E6%95%B4%E6%95%B0%20%2813%29.png\" style=\"height:auto; margin:0px auto\" /></p>\r\n\r\n<p>2-8、于是可以知道，在这一步之前就已得到了ASSIGN的opcode，因此，不断的往前找，从op_array开始初始化时就开始，逐步打印op_array-&gt;opcodes的值，一直都是null：</p>\r\n\r\n<p>直到执行了CG(zend_lineno) = last_lineno;才得到opcode = 38 的值：</p>\r\n\r\n<p>因为这一句：CG(zend_lineno) = last_lineno;是一个宏，所以也没头绪，接近放弃状态。。。</p>\r\n\r\n<p>于是先去了解opcode的数据结构，在<a href=\"http://www.php-internals.com/book/\">深入理解PHP内核</a>书里找到opcode处理函数查找这一章，给了我一些继续下去的思路。</p>\r\n\r\n<p>引用里面的内容： 在PHP内部有一个函数用来快速的返回特定opcode对应的opcode处理函数指针：zend_vm_get_opcode_handler()函数：</p>\r\n\r\n<p>知道其实opcode处理函数的命名是有以下规律的</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>ZEND_[opcode]_SPEC_(变量类型1)_(变量类型2)_HANDLER</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>根据之前调试打印出来的内容，在2-6的时候就看到了一个handler的值：</p>\r\n\r\n<p>是&nbsp;<strong>ZEND_ASSIGN_SPEC_CV_CONST_RETVAL_UNUSED_HANDLER</strong>，</p>\r\n\r\n<p>找出函数的定义如下：</p>\r\n\r\n<p>可以看到，opcode操作的时候，值是从EX_CONSTANT获取的，根据定义展开这个宏，那就是</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>opline-&gt;op2-&gt;execute_data-&gt;literals</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>这里可以得到两个信息： 1、参数的转换在opcode执行前就做好了 2、赋值过程取值时是在op2-&gt;execute_data-&gt;literals，如果猜想没错的话，op2-&gt;execute_data-&gt;literals此时保存的就是格式转换后的值，可以打印出来验证一下</p>\r\n\r\n<p>打印结果如下：</p>\r\n\r\n<p>猜想验证正确，但是没有看到真正做转换的地方，还是不死心，继续找PHP的Zend底层做编译的逻辑代码。</p>\r\n\r\n<p>参考开源的<a href=\"https://github.com/pangudashu/php7-internal\">GitHub项目</a>，PHP编译阶段如下图：<img alt=\"php整数20\" src=\"http://7u2eqw.com1.z0.glb.clouddn.com/PHP%E5%A4%A7%E6%95%B4%E6%95%B0%20%2820%29.png\" style=\"height:auto; margin:0px auto\" /></p>\r\n\r\n<p>猜测最有可能的是在zendparse、zend_compile_top_stmt这两个阶段完成转换，因为这个两个阶段做的事情就是将PHP代码转换成opcode数组。</p>\r\n\r\n<p>上网搜索了PHP语法分析相关的文章，有一篇里面讲到了解析整数的过程，因此找到了PHP真正将大整数做转换的地方：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>{LNUM} {</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>char *</code><code>end</code><code>;&nbsp;&nbsp;</code><code>if</code> <code>(yyleng</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>可以看到，zend引擎在对PHP代码在对纯数字的表达式做词法分析的时候，先判断数字是否有可能会溢出，如果有可能溢出，先尝试将其用LONG类型保存，如果溢出，先用zend_strtod将其转换为double类型，然后用double类型的zval结构体保存之。</p>\r\n\r\n<h2>number_format失败的原因</h2>\r\n\r\n<p>通过gdb调试，追查到number_format函数，在PHP底层最终会调用php_conv_fp函数对数字进行转换：<img alt=\"php整数21\" src=\"http://7u2eqw.com1.z0.glb.clouddn.com/PHP%E5%A4%A7%E6%95%B4%E6%95%B0%20%2821%29.png\" style=\"height:auto; margin:0px auto\" /></p>\r\n\r\n<p>函数原型如下：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:1230px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:1200px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>PHPAPI char * php_conv_fp(register char format, register double num, boolean_e add_dp, int precision, char dec_point, bool_int * is_negative, char *buf, size_t *len);</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>这里接收的参数num是一个double类型，因此，如果传入的是字符串类型数字的话，number_format函数也会将其转成double类型传入到php_conf_fp函数里。而这个double类型的num最终之所以输出为17978812896666957824，是因为进行科学计数法之后的精度丢失了，重新转成double时就恢复不了原来的值。在C语言下验证：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>double local_dval = 1.7978812896666958E+19;&nbsp; printf(</code><code>&quot;%f\\n&quot;</code><code>, local_dval);</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>输出的结果就是</p>\r\n\r\n<blockquote>\r\n<p>17978812896666957824.000000</p>\r\n</blockquote>\r\n\r\n<p>所以，这不是PHP的bug，它就是这样的。</p>\r\n\r\n<h2>此类问题解决方案</h2>\r\n\r\n<p>对于存储，超过PHP最大表示范围的纯整数，在MySQL中可以使用bigint/varchar保存，MySQL在查询出来的时候会将其使用string类型保存的。 对于赋值，在PHP里，如果遇到有大整数需要赋值的话，不要尝试用整型类型去赋值，比如，不要用以下这种：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>$var</code> <code>= 17978812896666957068;</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>而用这种：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>$var</code> <code>=&nbsp;</code><code>&#39;17978812896666957068&#39;</code><code>;</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>而对于number_format，在64位操作系统下，它能解析的精度不会丢失的数，建议的最大值是这个：9007199254740991。参考鸟哥博客：<a href=\"http://www.laruence.com/2011/12/19/2399.html\">关于PHP浮点数你应该知道的</a></p>\r\n\r\n<h2>总结</h2>\r\n\r\n<p>这个问题的原因看起来不太重要，虽然学这个对于实际上的业务开发也没什么用，不会让你的开发能力&ldquo;duang&rdquo;地一下上去几个level，但是了解了PHP对于大整数的处理，也是自己知识框架的一个小小积累，知道了为什么之后，在日常开发中就会多加注意，比如从存储以及使用赋值的角度。了解这个细节还是很有好处的。</p>\r\n\r\n<p>回想整个解决问题的过程，个人感觉有点长，总共大约花了4个小时去定位这个问题。因为对PHP的内核只是一知半解，没有系统的把整个流程梳理下来，所以一开始也不知道从哪里开始下手，就开始根据自己的猜测来调试。现在回想起来，应该先学习PHP的编译、执行流程，然后再去猜测具体的步骤。</p>\r\n\r\n<p>原创文章，文笔有限，才疏学浅，文中若有不正之处，万望告知。</p>\r\n', 'admin', 3, 0, 1520646848, '0', '0');
INSERT INTO `bg_article` VALUES (19, 6, '2017 年 PHP 程序员未来路在何方？', 'default.jpg', 'default.jpg', '互联网领域各种编程语言和技术层出不穷', '<p>PHP 从诞生到现在已经有20多年历史，从Web时代兴起到移动互联网退潮，互联网领域各种编程语言和技术层出不穷， Node.js 、 GO 、 Python 不断地在挑战 PHP 的地位。这些技术的推动者非常热衷于唱衰 PHP ， PHP 语言的未来在哪里？PHP 程序员当如何应对未来的变革？</p>\r\n\r\n<p>作为老牌的Web后端编程语言，PHP 在全球市场占有率非常高，仅次于 Java ，从各个招聘网站的数据上来看PHP 开发的职位非常多，薪资水平也非常不错。实际在中小企业、互联网创业公司PHP的市场地位是高于 Java 的。Java 在超大型企业、传统软件行业、金融领域优势更大。目前来看 Node.js、 GO 、 Python 、 Ruby 等语言还难以企及PHP和Java。</p>\r\n\r\n<p>PHP 语言之所以能有今天的地位，得益于PHP语言设计者一直遵从实用主义，将技术的复杂性隐藏在底层。PHP 语言入门简单，容易掌握，程序健壮性好，不容易出现像 Java 、 C++ 等其他语言那样复杂的问题，如内存泄漏和 Crash ，跟踪调试相对轻松很多。PHP 官方提供的标准库非常强大，各种功能函数都能在官方的标准库中找到，包括MySQL、Memcache、Redis、GD图形库、CURL、XML、JSON等等，免除了开发者到处找库的烦恼。PHP 的文档非常棒，每个函数都有详细的说明和使用示例。第三方类库和工具、代码、项目也很丰富。开发者可以快速、高效地使用 PHP 编写开发各类软件。到目前为止市面上仍然没有出现比 PHP 更简单易用的编程语言。所以 PHP 的前景还是很广阔的，与其纠结于编程语言的选择，不如好好地深入学习使用 PHP 。</p>\r\n\r\n<p>作为一个资深的 PHP 开发者，在技术上给各位 PHP 程序十点未来的建议，希望对大家有所帮助。</p>\r\n\r\n<h2>1. Composer</h2>\r\n\r\n<p>第一点就要提 Composer ，自从 Composer 出现后，PHP 的依赖管理可以变得非常简单。程序内依赖一些类库和框架，直接使用 Composer 引入即可，通过使用&nbsp;<code>composer update</code>&nbsp;安装依赖的包。解决了过去加载外部库的各种难题。Composer 也有国内镜像，速度非常快。现在绝大部分PHP开源的项目都提供了 Composer 的支持，建议大家在项目中使用 Composer 来解决 PHP 代码包管理的问题，不要再使用下载源码、手工 include 的原始方法。</p>\r\n\r\n<h2>2. PHP7</h2>\r\n\r\n<p>PHP7 版本对 Zend 引擎做了大量修改，大幅提升了 PHP 语言的性能，使用 PHP7 可以使你的程序性能瞬间翻倍。即使是 WordPress 这样重量级的软件运行在 PHP7 都能有上千 QPS ，相当于一台服务器每天就能处理 8000 万次请求。使用 PHP7 ，做好 MySQL 优化，使用 Memcache 和 Redis 进行加速，这套技术架构完全可以应对相当大规模的系统。除了某些亿级用户的平台之外，一般规模的系统完全没有压力。</p>\r\n\r\n<h2>3. PSR</h2>\r\n\r\n<p>PSR 是&nbsp;<a href=\"http://www.php-fig.org/\" target=\"_blank\">http://www.php-fig.org/</a>&nbsp;组织制定的PHP语言开发规范，约定了很多方面的规则，如命名空间、类名、规范、编码风格标准、Autoload、公共接口等。现在已经成为PHP技术社区事实上的标准了。很多知名的 PHP 框架和类库都遵守了 PSR 规范。PHP 开发者应当学习掌握 PSR 规范，在开发程序时应当尽量遵循 PSR 规范。</p>\r\n\r\n<h2>4. Swoole</h2>\r\n\r\n<p>2017 年 PHP 还局限于做 Web 网站吗？No ，如果你还不知道 Swoole ，赶快去了解一下吧。Swoole 的口号是重新定义 PHP 语言，Swoole 是一个异步并行的通信引擎，作为 PHP 的扩展来运行。Node.js 的异步回调 Swoole 有，Go语言的协程 Swoole 也有，这完全颠覆了对 PHP 的认知。使用 Swoole PHP 可以实现常驻内存的 Server 程序，可以实现 TCP 、 UDP 异步网络通信的编程开发。过去PHP只能做一个 Web 网站，现在使用 Swoole 可以做 Java 、C++ 才能实现的通信服务，比如 WebSocket 即使通信、聊天、推送服务器、RPC 远程调用服务、网关、代理、游戏服务器等。如果你想用 PHP 做点 Web 系统之外的东西，Swoole 是最好的选择。</p>\r\n\r\n<h2>5. Laravel</h2>\r\n\r\n<p>最近几年最火热的 PHP 框架，官网号称是为 Web 艺术家设计的框架，可见这套框架有多优雅。Laravel 提供的功能模块丰富，API 设计简洁，表达力强。而且它的社区非常活跃，代码贡献者众多，第三方的插件非常多，生态系统相当繁荣。 Laravel 底层使用了很多 symfony2 组件，通过 composer 实现了依赖管理。如果还在纠结使用什么PHP框架，不如选择 Laravel 。 Laravel 提供的命令行工具基于 symfony.console 实现，功能强大，集成了各种项目管理、自动生成代码的功能。</p>\r\n\r\n<h2>6. Phar</h2>\r\n\r\n<p>PHP5.3 之后支持了类似 Java 的 jar 包，名为 phar。用来将多个 PHP 文件打包为一个文件。这个特性使得 PHP 也可以像 Java 一样方便地实现应用程序打包和组件化。一个应用程序可以打成一个 Phar 包，直接放到<br />\r\nPHP-FPM 中运行。配合 Swoole ，可以在命令行下执行&nbsp;<code>php server.phar</code>&nbsp;一键启动服务器。PHP 的代码包可以用 Phar 打包成组件，放到 Swoole 的服务器容器中去加载执行。</p>\r\n\r\n<h2>7. C/C++/GO</h2>\r\n\r\n<p>任何技术有优点就有缺点，PHP 作为一门动态脚本语言，优点是开发方便效率高。缺点就是性能差。在密集运算的场景下比 C 、 C++ 相差几十倍甚至上百倍。另外 PHP 不可以直接操作底层，需要依赖扩展库来提供 API 实现。PHP 程序员可以学习一门静态编译语言作为补充实现动静互补，C/C++/Go 都是不错的选择。而且静态语言的编程体验与动态语言完全不同，学习过程可以让你得到更大的提升。</p>\r\n\r\n<p>掌握 C/C++ 语言后，还可以阅读 PHP 、 Swoole 、 Nginx 、Redis 、 Linux内核 等开源软件的源码，了解其底层运行原理。</p>\r\n\r\n<p>现在最新版本的Swoole提供了C++扩展模块的支持，封装了Zend API，用C++操作PHP变得很简单，可以用C++实现PHP扩展函数和类。</p>\r\n\r\n<h2>8. HTML5</h2>\r\n\r\n<p>作为 Web 前端新一代标准，HTML5 未来前景非常广阔，市场需求量非常大。从 PC 网站、B/S 企业软件、移动端网页、APP，这些领域都在拥抱 HTML5，掌握了 HTML5 才能在下一波互联网技术大潮中存活下来。</p>\r\n\r\n<h2>9. Vue.js</h2>\r\n\r\n<p>PHP 程序员除了写后台程序之外，还有很大一部分工作在展现层，和浏览器前端打交道。2017 年你还在用 jQuery 操作 DOM 实现界面渲染吗？已经完全 out 了。现在用 Vue.js 可以非常方便地实现数据和 DOM 元素的绑定。通过 Ajax 请求后台接口返回数据后，更新前端数据自动实现界面渲染。2017 年再不学 Vue 就晚了。</p>\r\n\r\n<p>如果你不光要写 Web 程序，同时还希望兼顾 Android 、IOS 、PC 客户端等平台，React Native 是一个不错的选择。</p>\r\n\r\n<h2>10. 深度学习/人工智能</h2>\r\n\r\n<p>互联网的未来属于人工智能，如果你还不了解机器学习、深度学习、人工智能这些概念，那你需要尽快学习了解一下。现在互联网巨头们都在布局人工智能，包括 Google 、 Facebook 、微软、亚马逊 和国内的百度。虽然现在还处于科学研究的阶段，但未来互联网的各个领域都会应用到人工智能，包括自动驾驶、大数据分析、网络游戏、图像识别、语言处理等。当然现在普通的工程师可能还无法参与到人工智能产品中，但至少应该理解深度学习/人工智能的基本概念和原理。</p>\r\n', 'admin', 10, 1, 1520647247, '1', '0');
INSERT INTO `bg_article` VALUES (20, 6, '这些最热门的 PHP 框架，哪一款是你的菜？', 'default.jpg', 'default.jpg', 'PHP 是世界上最流行的编程语言之一', '<p>PHP 是世界上最流行的编程语言之一，广泛用于主要的项目中。例如，Facebook 就是利用 PHP 来创建和维护他们的内部系统；WordPress 内部基于 PHP， 作为报答它为超过26%的网站提供了技术支持。而现在PHP已经为超过82%的网站提供了支持（Web Technology Surveys 站点能够跟踪的服务器端编程语言）。</p>\r\n\r\n<p>本文将通过 3 款最流行的 PHP 框架：Symfony, Laravel, 和&nbsp;Yii 的比较，来帮助你找到最适合的 PHP 框架。</p>\r\n\r\n<p><strong>为什么选择 PHP 框架？</strong></p>\r\n\r\n<p>下面列出了一些使用 PHP 框架进行开发的好处：</p>\r\n\r\n<ul>\r\n	<li>PHP 框架使开发更快。比如，你不需要写复杂的查询操作来从数据库中检索数据，PHP 提供了增加(Create)、读取(Retrieve)(重新得到数据)、更新(Update)和删除(Delete)的操作。</li>\r\n	<li>框架能够使得开发者更容易地扩展系统。</li>\r\n	<li>代码维护比普通的 PHP 应用更加容易。应用程序代码将更加简洁。</li>\r\n	<li>MVC模式可保证快速发展。</li>\r\n	<li>框架更好地保护Web应用程序免受常见的安全威胁。</li>\r\n	<li>DRY(Don&rsquo;t&nbsp;Repeat&nbsp;Yourself&nbsp;)原则让最少的代码发挥最大的作用。</li>\r\n</ul>\r\n\r\n<p>以上所列的好处都具有十分重要的意义。尽管利用原生的 PHP 能够写出任何一个应用，但是现在的开发更多地要求使用工具和时间管理技能，以满足市场需求。</p>\r\n\r\n<p><strong>如何选择一款适合的 PHP 框架？</strong></p>\r\n\r\n<p>回答下面的问题能帮助你更好地选择一款适合的框架：</p>\r\n\r\n<ul>\r\n	<li>这个框架的特性和功能是什么？（它提供了我需要的东西了吗？）</li>\r\n	<li>这个框架的学习曲线是怎么样的？</li>\r\n	<li>这个框架的可扩展性如何？</li>\r\n	<li>这个框架对于编码团队的开发和维护具有积极的作用吗？</li>\r\n	<li>这个框架提供了长时间支持版本(LTS support)&nbsp;吗？</li>\r\n	<li>这个框架有强大的社区支持吗？</li>\r\n</ul>\r\n\r\n<p><strong>Symfony, Laravel&nbsp;和&nbsp;Yii 概述</strong></p>\r\n\r\n<p>在深入到技术细节之前，先对三者进行一个概述：</p>\r\n\r\n<p><strong>Symfony</strong></p>\r\n\r\n<p>Symfony 是一款可重复使用的 PHP 组件，让开发者开发可扩展的、高性能的应用。它有30个组件可供选择，开发者可以在 RAD 环境下自由地进行实验或工作。</p>\r\n\r\n<p>一些比较出名的项目，像&nbsp;Drupal&nbsp;and&nbsp;phpBB&nbsp;使用的都是&nbsp;Symfony 框架。事实上，另一款 PHP 流行框架&nbsp;Laravel 也是建立自&nbsp;Symfony 。</p>\r\n\r\n<p><strong>Laravel</strong></p>\r\n\r\n<p>&ldquo;PHP framework for Web Artisans&rdquo;&mdash;&mdash;Laravel&nbsp;作为最流行的 PHP 框架，为开发者提供了一个优秀的社区交流平台（Laravel 的其中一个创始人是&nbsp;Livecoding.tv&nbsp;的&nbsp;Sfiskell）。</p>\r\n\r\n<p>2015 年 5 月&nbsp;Laravel 发布的&nbsp;5.1 版本将提供长时间支持版本（两年）。5.2 版本也在 2015 年 12 月推向市场。很多托管公司提供&nbsp;Laravel 支持以及&nbsp;Laravel 应用托管解决方案。</p>\r\n\r\n<p><strong>Yii</strong></p>\r\n\r\n<p>国人薛强在&nbsp;2008 年创建的&nbsp;Yii 是一个安全、快速、高性能的应用/ Web 开发框架。Yii 利用PHP的Composer 依赖项管理器来处理不同的依赖和安装（下面我们会讲到）。延迟加载技术（&nbsp;lazy loading technique）使得&nbsp;Yii 成为最快的PHP 框架。</p>\r\n\r\n<p>Yii 的另一个不错的特性是整合了&nbsp;jQuery，使得前端开发者能更快地上手，它利用基架来生成代码。Yii &nbsp;和&nbsp;Symfony 一样是借助组件来使应用开发更快。</p>\r\n\r\n<p><strong>Symfony, Laravel&nbsp;和&nbsp;Yii 比较</strong></p>\r\n\r\n<p>这三款框架都非常构建开发 Web 2.0 应用程序，但他们的侧重点又各有不同。下面我们看一下他们各自的特性和安装：</p>\r\n\r\n<p><strong>模板引擎</strong></p>\r\n\r\n<p>模板引擎能减轻开发者的负担，在写前端代码时提供更好的功能。模板引擎提供了诸如自动 HTML 转义和过滤等功能，并填补了原生&nbsp;PHP 留下的空白。</p>\r\n\r\n<p><strong>Symfony&nbsp;Twig&nbsp;模板系统</strong></p>\r\n\r\n<p>Twig&nbsp;是一个灵活，快速，安全的 PHP 模板语言。Symfony 的优势是使用了&nbsp;Twig 来使得开发者编写干净、整洁的代码，并且能够利用原生&nbsp;PHP 来实现更多的功能。例如，下面冗长的代码实现的是转义（escaping）：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>&lt;?php&nbsp;</code><code>echo</code> <code>$var</code> <code>?&gt; &lt;?php&nbsp;</code><code>echo</code> <code>htmlspecialchars(</code><code>$var</code><code>, ENT_QUOTES,&nbsp;</code><code>&#39;UTF-8&#39;</code><code>) ?&gt;</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>Twig 可以用下面的代码实现同样的功能：</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>{{&nbsp;</code><code>var</code> <code>}} {{&nbsp;</code><code>var</code><code>|escape }} {{&nbsp;</code><code>var</code><code>|e }} {# shortcut to escape a variable #}</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>你可以进入&nbsp;Twig 主页来查看更多的功能。</p>\r\n\r\n<p><strong>Laravel Blade&nbsp;模板系统</strong></p>\r\n\r\n<p>跟其他的模板系统不同，Blade 允许你在视图中使用 PHP 代码。而且，由于blade 视图文件存储在&nbsp;.blade.php extension里面，所以&nbsp;Blade 对你的应用性能损耗为 0。所有在视图文件里面的代码可以在处理过程中就转换成原生 PHP。</p>\r\n\r\n<p><strong>Yii 默认的模板系统</strong></p>\r\n\r\n<p>Yii 默认不使用任何第三方的模板系统，但这并不意味着它缺少模板系统的支持，模板系统的选择取决于开发团队，推荐&nbsp;Twig 和&nbsp;Smarty。Symfony 使用的是&nbsp;Twig，所以如果你之前使用过&nbsp;Symfony，你可能会想选择&nbsp;Twig 作为你下一个 Yii 项目的选择。</p>\r\n\r\n<p>很难定义那款才是最好的。这三个框架都利用了模板系统来更好地编写和维护前端。 Yii 的一个小优势是它没有一个预定义的模板系统。</p>\r\n\r\n<p><strong>框架的差异</strong></p>\r\n\r\n<p>每个框架的构建都是不同的。Symfony 致力于可重用组件，并提供最好的模块化。另外&nbsp;Symfony 利用模块和控制器来开发 Web 应用，这可能会让一些刚入门的开发者望而却步。此外，Symfony 还是一个很好的模块化结构的例子，你可以以模块化的方式在你的项目里使用&nbsp;symfony 提供的&nbsp;30 个组件。</p>\r\n\r\n<p>Yii采用 MVC 框架。（symfony 也支持&nbsp;MVC 架构，更详细的讨论请看&nbsp;blog.sznapka.pl 网站的<em>&nbsp;Is Symfony2 a MVC framework&nbsp;</em>）</p>\r\n\r\n<p>Symfony 可以用于快速开发复杂的项目。如果说哪个框架最适合复杂的项目的话，symfony 相比于其他框架具有十分优秀的复杂处理的能力&nbsp;。Yii 也利用了组件，但和&nbsp;symfony 的模块不一样。Laravel 虽然没有提供一个模块化的方法，但和其他两个框架一样好用。</p>\r\n\r\n<p>如果你正在寻找一个模块化的框架的话就选择&nbsp;symfony。否则，Laravel 和 Yii 都是不错的选择。</p>\r\n\r\n<p><strong>安装</strong></p>\r\n\r\n<p>这三个框架都提供了多个安装过程，如果您使用 Composer 来处理包，就发现其实所有框架都可以通过Composer 安装。</p>\r\n\r\n<p>而对于 Symfony 来说，Composer&nbsp;的作用尤为重要。因为使用&nbsp;PHP 的&nbsp;Composer 依赖项管理器是处理组件的好帮手。</p>\r\n\r\n<p>当然也有其他的安装框架的方式，例如使用简单的归档方法来安装。</p>\r\n\r\n<p>安装后，Yii 将提供一个&nbsp;Web 应用程序和一个基本的模板帮助你的开发；Symfony 2 提供了一个开始演示应用程序；通过 Laravel 安装程序来安装和使用 Composer 来创建项目，使得&nbsp;Laravel 也能够很容易安装使用。详细信息请查看 Laravel 安装指南。</p>\r\n\r\n<p><strong>发展</strong></p>\r\n\r\n<p>从公司或客户的角度来看，迅速将应用程序推向市场以满足消费者的需求并击败竞争对手是很重要的。 Symfony 由于其背后有强大的社区支撑而站稳脚跟；&nbsp;Laravel 正在快速成长，要被开发者完全认可仍有很长的路要走。另外，如果你还不知道任何 PHP 框架，希望尽快选择一款适合你的，Laravel 是个不错的选择，它有一个简单的学习曲线，并且有很多在线教程帮助你开始使用。Yii 将性能提升到一个新的水平，并提供代码基架，以便更快地生成和开发代码。</p>\r\n\r\n<p><strong>性能</strong></p>\r\n\r\n<p>任何应用程序的性能只有当它使用关键数据的实时应用程序时才有意义。有多少基于 Web 的应用程序依赖于高性能呢？ 并不多，但是框架的性能在许多项目中可以发挥关键性的作用。</p>\r\n\r\n<p>社交网络是实时事件的主要例子，我们的明星流媒体之一&mdash;&mdash;jadson&nbsp;就使用了 Yii2 建立移动社交网络。最快的 PHP 框架 Yii 毫无疑问是高性能应用程序编码框架的最佳选择。</p>\r\n\r\n<p>Laravel 的性能是非常有争议的。它是最慢的，但这重要吗？ 您可以找到很多用于加快性能的在线资源，包括使&nbsp;Laravel 应用程序更快的&nbsp;GitHub 指南。</p>\r\n\r\n<p><strong>数据库支持</strong></p>\r\n\r\n<p>Symfony 2 提供更好的数据库支持。您可以使用数据库数组，包括 NoSQL 和 DynamoDB。Yii 和 Laravel 也支持数据库，但是所支持的数据库比 Symfony 少。每个框架支持的数据库如表1所示。</p>\r\n\r\n<p>表1</p>\r\n\r\n<p><strong><a href=\"http://www.feehi.com//uploads/article/robot/2016/12/5862905385b08.jpg\"><img alt=\"%e6%8d%95%e8%8e%b7\" src=\"http://www.feehi.com//uploads/article/robot/2016/12/5862905385b08.jpg\" style=\"border-style:initial; border-width:0px; height:auto; margin:0px auto\" /></a><br />\r\n社区和资源</strong></p>\r\n\r\n<p>社区力量是开源框架寿命的一个重要预测因素。这三个框架都有其固定的社区，Symfony 的相对较为成熟。社区仍在不断地发展，因此很难预测未来社区的发展动态。</p>\r\n\r\n<p>Laravel 在学习材料和文档方面做得最好，Symfony 和 Yii 也不差：</p>\r\n\r\n<ul>\r\n	<li>Laravel 文档</li>\r\n	<li>Symfony 文档（3.0）</li>\r\n	<li>Yii 文档</li>\r\n</ul>\r\n\r\n<p><strong>可扩展性</strong></p>\r\n\r\n<p>框架是可以进行或包扩展的结构，改进它们的功能和范围。在这方面&nbsp;Laravel 是当之无愧的赢家。 Packalyst 是 Laravel 软件包的目录，提供 9000 多个软件包。而 Yii 和 Symfony 分别提供大约 2800 个扩展和 2830 个bundle。Laravel 以超越其他两者的三倍的扩展性，成为这方面最好的框架。</p>\r\n\r\n<p><strong>Symfony, Laravel&nbsp;和&nbsp;Yii 相似之处</strong></p>\r\n\r\n<p>我们研究了框架之间的差异。 现在让我们看看他们的相似之处：</p>\r\n\r\n<p>1.三个框架都是全栈 PHP 框架，并提供了从创建 Web 应用程序前端代码编写到后端数据检索的功能。</p>\r\n\r\n<p>2.这些项目都是开源的，他们的源代码可以在 GitHub 上找到，每个人都可以轻松地贡献自己的代码：</p>\r\n\r\n<ul>\r\n	<li>Symfony</li>\r\n	<li>Laravel</li>\r\n	<li>Yii</li>\r\n</ul>\r\n\r\n<p>3.这些框架有很好的文档，并得到了大型社区的支持。</p>\r\n\r\n<p>4.它们各自支持 ORM（对象关系映射）。ORM 非常喜欢为应用程序编写面向对象的代码（OO code）。</p>\r\n\r\n<p>5.用它们创建 Web 2.0 应用程序是安全和可靠的。</p>\r\n\r\n<p>还是无法选择？ 也许这些清单可以帮助你缩小选择范围：</p>\r\n\r\n<p><strong>Symfony:</strong></p>\r\n\r\n<ul>\r\n	<li>提供 LTS 版本，</li>\r\n	<li>具有负载功能，</li>\r\n	<li>是目前最稳定的框架，</li>\r\n	<li>是一个基于组件的框架，提供广泛的模块化，</li>\r\n	<li>有一个强大的社区和大量的学习资源</li>\r\n</ul>\r\n\r\n<p><strong>Yii:</strong></p>\r\n\r\n<ul>\r\n	<li>自带 Ajax 支持</li>\r\n	<li>非常适合开发实时应用程序</li>\r\n	<li>高度可扩展</li>\r\n	<li>准确的错误处理</li>\r\n	<li>擅长创建 Restful Web Services</li>\r\n	<li>有一个强大的社区和大量的学习资源</li>\r\n</ul>\r\n\r\n<p><strong>Laravel:</strong></p>\r\n\r\n<ul>\r\n	<li>2015-2016 年最流行的框架</li>\r\n	<li>支持 Composer 进行包管理</li>\r\n	<li>擅长做单元测试</li>\r\n	<li>提供了大量的软件包来扩展框架功能</li>\r\n	<li>有一个强大的社区和大量的学习资源</li>\r\n</ul>\r\n\r\n<p><strong>结论：</strong></p>\r\n\r\n<p>在 Symfony 、Laravel 、Yii &nbsp;三个PHP框架都是为开发人员提供全栈开发环境的优秀选项。我觉得 Laravel 是最大的赢家，并且仍然在不断地发展壮大。</p>\r\n\r\n<p>不过，Symfony 和 Yii 都是优秀的框架。Symfony 比较成熟，并且拥有一个更大、更成熟的社区。Yii 是一个独特的，并能稳健、安全地完成工作的框架。</p>\r\n', 'admin', 11, 0, 1520647348, '1', '0');
INSERT INTO `bg_article` VALUES (21, 6, '作为PHP开发者请务必了解Composer', 'default.jpg', 'default.jpg', '请务必了解Composer', '<p>Composer是一个非常流行的PHP包依赖管理工具,已经取代PEAR包管理器,对于PHP开发者来说掌握Composer是必须的.</p>\r\n\r\n<p>对于使用者来说Composer非常的简单,通过简单的一条命令将需要的代码包下载到<code>vendor</code>目录下,然后开发者就可以引入包并使用了.<br />\r\n其中的关键在于你项目定义的<code>composer.json</code>,可以定义项目需要依赖的包(可能有多个),而依赖的包可能又依赖其他的包(这就是组件的好处),这些都不用你烦心,Composer会自动下载你需要的一切,一切在于<code>composer.json</code>的定义.</p>\r\n\r\n<p>Composer对于使用者来说是很透明,但是其背后的理念还是需要了解一下的,其的诞生也不是偶然的,得益于Github的快速发展,PHP语言也越来越现代化,显得更高大上了.</p>\r\n\r\n<p>为了理解Composer,先大概了解下其结构:</p>\r\n\r\n<p>Composer的结构</p>\r\n\r\n<ul>\r\n	<li><strong>Composer命令行工具</strong>:<br />\r\n	这个理解就比较简单了,通过使用者定义的<code>Composer.json</code>去下载你需要的代码,假如只是简单的使用Composer,那么掌握一些具体命令就完全可以了</li>\r\n	<li><strong>Autoloading代码加载器</strong>:<br />\r\n	通过Composer,开发者可以通过多种方式去使用,而其中的关键在于PHP的命名空间概念,以及PSR-4标准的发展,Composer只是根据这二者开发了一个代码自动加载器</li>\r\n	<li><strong>Github</strong>:<br />\r\n	有了Github,PHP开发人员可以将开源的代码托管在这上面,而Composer的发展源于Github,Composer本质上就是将Github上的代码下载到本地.</li>\r\n	<li><strong>Packagist</strong>:<br />\r\n	对于使用者来说使用的是Composer的命令行工具,那么命令行工具怎么知道有多少包可以被用户使用呢,这主要就是依赖于Packagist,Packagist是Composer主要的一个包信息存储库,包开发者将具体代码托管到Github上,将包信息提交到Packagist上,这样使用者就可以通过Composer去使用.<br />\r\n	Composer根据本地定义的<code>composer.json</code>信息去查询Packagist,Packagist根据<code>Composer.json/Package.json</code>信息解析,最终对应到github仓库,Composer最终下载代码的时候还要依赖于Github仓库上的<code>Composer.json</code>,这里涉及到三种类型的<code>composer.json</code>,含义是不一样的.</li>\r\n	<li><strong>Composer.json</strong>:<br />\r\n	这是Composer的核心,是Composer的规则,上面也提到了三种类型的<code>Composer.json</code>,在使用的时候一定要注意区分,我初学的时候就总是搞乱.</li>\r\n</ul>\r\n\r\n<p>Composer命令行工具</p>\r\n\r\n<p><strong>composer init</strong><br />\r\n使用者可以在自己的项目下创建<code>composer.json</code>以便定义你项目的依赖包,也可以通过<code>composer init</code>交互式的创建<code>composer.json</code>.</p>\r\n\r\n<p><strong>composer install</strong><br />\r\n应该是最常用的命令,composer会根据本地的<code>composer.json</code>安装包,将下载的包放入项目下的<code>vendor</code>目录下,同时将安装时候的包版本信息放入到<code>composer.lock</code>,以便锁定版本.<br />\r\n其实在install的时候,假如发现<code>composer.lock</code>版本和目前<code>vendor</code>目录下的代码版本是一致的,则Composer会什么也不做,<code>composer.lock</code>的目的就是让你安心在目前这个版本下工作,而不获取最新版本的包.</p>\r\n\r\n<p><strong>composer update</strong><br />\r\n那么如何更新<code>composer.lock</code>以便获取到最新版本的包呢?通过这个命令即可更新最新版本的包</p>\r\n\r\n<p><strong>composer config</strong><br />\r\n这个命令还是建议了解下,全局的配置保存在<code>COMPOSER_HOME/config.json</code>,非全局的配置信息则存储在本项目目录下.</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:877.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:847.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>composer config --list -g&nbsp; composer config -g notify-on-install false&nbsp; composer&nbsp;</code><code>global</code> <code>config bin-dir --absolute</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p><strong>composer create-project</strong><br />\r\n这个命令不常用,但是个人觉得还是很重要的,使用普通的install命令是将项目所有的依赖包下载到本项目<code>vendor</code>目录下.而通过这个命令则是将所有的代码及其依赖的包放到一个目录下,相当于执行了一个<code>git clone</code>命令,一般是包的开发者可能为了修复bug会使用该命令.</p>\r\n\r\n<p><strong>composer global</strong><br />\r\n这是一个全局的安装命令,它允许你在<code>COMPOSER_HOME</code>目录下执行Composer的命令,比如<code>install</code>,<code>update</code>.当然你的<code>COMPOSER_HOME</code>要在<code>$PATH</code>环境下.</p>\r\n\r\n<p>比如执行<code>composer global require fabpot/php-cs-fixer</code>,现在php-cs-fixer命令行可以全局运行了,如果稍后想更新它,只需要运行<code>composer global update</code></p>\r\n\r\n<p><strong>composer dump-autoload</strong><br />\r\n当你修改项目下的<code>composer.json</code>的文件,并不一定要运行<code>composer update</code>命令进行更新,有的时候可以使用该命令来更新加载器,比如你要引用本地自定义的包(不是来自于packagist),后面会通过实践来说明该命令.</p>\r\n\r\n<p><strong>composer require</strong><br />\r\n假如手动或者交互式创建<code>composer.json</code>文件,可以直接使用该命令来安装包</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>composer&nbsp;</code><code>require</code>&nbsp; <code>cerdic/css-tidy:1.5.2&nbsp; composer&nbsp;</code><code>require</code> <code>&quot;ywdblog/phpcomposer:dev-master&quot;</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p><strong>&ndash;prefer-source和&ndash;prefer-dist参数</strong><br />\r\n&ndash;prefer-dist:对于稳定的包来说,一般Composer安装默认使用该参数,这也能加快安装,比如有可能直接从packagist安装了相应的包,而不用实际去Github上下载包.<br />\r\n&ndash;prefer-source:假如使用该参数,则会直接从Github上安装,安装包后<code>vendor</code>目录下还含有<code>.git信息</code></p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:888.667px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:858.667px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>composer&nbsp;</code><code>require</code> <code>&quot;ywdblog/phpcomposer:dev-master&quot;</code> <code>--prefer-source&nbsp;&nbsp; #在vendor/ywdblog/phpcomposer目录下含有.git信息</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p><strong>如何给Composer添加代理</strong><br />\r\n在国内使用Composer下载特别慢,可以通过二个方法进行加速</p>\r\n\r\n<ul>\r\n	<li>composer config repo.packagist composer &ldquo;<a href=\"https://packagist.phpcomposer.com/\" target=\"_blank\">https://packagist.phpcomposer.com</a>&ldquo;</li>\r\n	<li>编辑composer.json\r\n	<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:733.333px\">\r\n		<tbody>\r\n			<tr>\r\n				<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n				<p>1</p>\r\n\r\n				<p>2</p>\r\n\r\n				<p>3</p>\r\n\r\n				<p>4</p>\r\n\r\n				<p>5</p>\r\n\r\n				<p>6</p>\r\n\r\n				<p>7</p>\r\n				</td>\r\n				<td style=\"height:auto !important; vertical-align:baseline !important; width:703.333px\">\r\n				<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n				<p><code>&quot;repositories&quot;</code><code>: {</code></p>\r\n\r\n				<p><code>&quot;packagist&quot;</code><code>: {</code></p>\r\n\r\n				<p>&nbsp;</p>\r\n\r\n				<p><code>&quot;type&quot;</code><code>:&nbsp;</code><code>&quot;composer&quot;</code><code>,</code></p>\r\n\r\n				<p>&nbsp;</p>\r\n\r\n				<p><code>&quot;url&quot;</code><code>:&nbsp;</code><code>&quot;<a href=\"https://packagist.phpcomposer.com/\">https://packagist.phpcomposer.com</a>&quot;</code></p>\r\n\r\n				<p><code>}&nbsp; }</code></p>\r\n				</div>\r\n				</td>\r\n			</tr>\r\n		</tbody>\r\n	</table>\r\n	</li>\r\n</ul>\r\n\r\n<p>Autoloading代码加载器</p>\r\n\r\n<p>composer本身集成一个<code>autoloader</code>,支持<code>PSR-4</code>,<code>PSR-0</code>,<code>classmap</code>,<code>files autoloading</code>.</p>\r\n\r\n<p>这里通过一个例子来说明通过Composer如何引用<code>classmap</code>,<code>files</code>,<code>本地符合PSR-4标准的代码</code></p>\r\n\r\n<ul>\r\n	<li>编辑<a href=\"https://github.com/ywdblog/mycode/blob/master/composer/composer.json\" target=\"_blank\">composer.json</a>\r\n\r\n	<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:733.333px\">\r\n		<tbody>\r\n			<tr>\r\n				<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n				<p>1</p>\r\n\r\n				<p>2</p>\r\n\r\n				<p>3</p>\r\n\r\n				<p>4</p>\r\n				</td>\r\n				<td style=\"height:auto !important; vertical-align:baseline !important; width:703.333px\">\r\n				<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n				<p><code>&quot;autoload&quot;</code><code>: {</code></p>\r\n\r\n				<p><code>&quot;classmap&quot;</code><code>: [</code><code>&quot;othsrc/&quot;</code><code>,</code><code>&quot;classsrc.php&quot;</code><code>],</code></p>\r\n\r\n				<p><code>&quot;files&quot;</code><code>: [</code><code>&quot;othsrc/filesrc.php&quot;</code><code>],</code></p>\r\n\r\n				<p><code>&quot;psr-4&quot;</code><code>: {</code><code>&quot;Foo\\Bar\\&quot;: &quot;</code><code>src&quot;}&nbsp;&nbsp; }</code></p>\r\n				</div>\r\n				</td>\r\n			</tr>\r\n		</tbody>\r\n	</table>\r\n	</li>\r\n	<li>composer dump-autoload</li>\r\n</ul>\r\n\r\n<p>通过上述的操作,对于PSR-4来说等同注册了一个PSR-4 autoloader(从<code>FooBar</code>命名空间)<br />\r\n假如不想使用Composer的autoloader,可以直接包含<code>vendor/composer/autoload_*.php</code>&nbsp;文件,配置自己的加载器.<br />\r\n具体的例子托管在<a href=\"https://github.com/ywdblog/mycode/tree/master/composer\" target=\"_blank\">github</a>上,可参考.</p>\r\n\r\n<p>Repositories</p>\r\n\r\n<p>关于Repositories,了解其不是必须的,但是假如掌握则更能理解Composer,对于Repositories,其<a href=\"http://docs.phpcomposer.com/05-repositories.html\" target=\"_blank\">中文文档</a>和<a href=\"https://getcomposer.org/doc/05-repositories.md\" target=\"_blank\">英文文档</a>解释的很好,这里也进行了一些<strong>摘抄</strong>.</p>\r\n\r\n<p><strong>基本概念</strong><br />\r\n包:<br />\r\nComposer是一个依赖管理工具,它在本地安装一些资源包和包的描述(比如包名称和对应的版本),比较重要的元数据描述是<code>dist</code>和<code>source</code>,<code>dist</code>指向一个存档,该存档是对一个资源包的某个版本的数据进行的打包.<code>source</code>指向一个开发中的源,这通常是一个源代码仓库(比如git)</p>\r\n\r\n<p>资源库:<br />\r\n一个资源库是一个包的来源.它是一个<code>packages/versions</code>的列表.<br />\r\nComposer将查看所有你定义的<code>repositories</code>以找到项目需要的资源包(这句话很重要).<br />\r\n默认情况下已经将Packagist.org注册到Composer(或者理解为Packagist.org是Composer资源库默认的仓库类型)</p>\r\n\r\n<p><strong>Composer资源库类型</strong><br />\r\nComposer资源库包括四种类型,默认的是<code>composer类型</code>,也就是packagist.org所使用的资源类型.<br />\r\n它使用一个单一的<code>packages.json</code>文件,包含了所有的资源包元数据.当你将包发布到pckagist.org上,则默认系统会创建一个<code>packages.json</code>,不过我没有找到<a href=\"https://packagist.org/packages/ywdblog/phpcomposer\" target=\"_blank\">我的包</a>对应的文件.</p>\r\n\r\n<p><strong>VCS资源库类型</strong><br />\r\n假如你想构建一个私有的Composer私有资源库类型,可以使用该类型,这里举一个例子,比如你在自己项目的<code>composer.json</code>定义如下,则就可以使用对应的Github上的代码了.</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n\r\n			<p>5</p>\r\n\r\n			<p>6</p>\r\n\r\n			<p>7</p>\r\n\r\n			<p>8</p>\r\n\r\n			<p>9</p>\r\n\r\n			<p>10</p>\r\n\r\n			<p>11</p>\r\n\r\n			<p>12</p>\r\n\r\n			<p>13</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:726px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>{</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>&quot;repositories&quot;</code><code>: [</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>{</code></p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p><code>&nbsp;</code><code>&quot;type&quot;</code><code>:&nbsp;</code><code>&quot;vcs&quot;</code><code>,</code></p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p><code>&nbsp;</code><code>&quot;url&quot;</code><code>:&nbsp;</code><code>&quot;<a href=\"https://github.com/ywdblog/phpcomposer\">https://github.com/ywdblog/phpcomposer</a>&quot;</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>}</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>],</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>&quot;require&quot;</code><code>: {</code></p>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p><code>&nbsp;</code><code>&quot;ywdblog/phpcomposer&quot;</code><code>:&nbsp;</code><code>&quot;dev-master&quot;</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>}&nbsp; }</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>当运行<code>composer update</code>的时候,Comoser实际上是从Github上下载包而不是从pckagist.org上下载.</p>\r\n\r\n<p>另外假如需要使用<code>Package资源库类型</code>或者<code>PEAR资源库类型</code>,参考官方文档即可,一般在<code>composer.json</code>中定义name、version属性即可.</p>\r\n\r\n<p>Composer.json</p>\r\n\r\n<p>在本文上面也多次提到了<code>composer.json</code>,比如你希望使用第三方包则需要在本地定义<code>composer.json</code>,Composer安装第三方包后,也会在第三方包目录下发现<code>composer.json</code>,那么这二者都叫<code>composer.json</code>,有什么区别呢?理解这非常的重要.</p>\r\n\r\n<p>假如你在自己的项目下面定义一个<code>composer.json</code>,则这个包称之为<code>ROOT包</code>,这个<code>composer.json</code>定义你项目需要的条件(比如你的项目可能依赖一个第三方包).</p>\r\n\r\n<p><code>composer.json</code>中有些属性只能被<code>ROOT包</code>使用,比如<code>config</code>属性只在<code>ROOT包</code>中生效.</p>\r\n\r\n<p>一个资源包是不是<code>ROOT包</code>,取决于它的上下文,比如你<code>git clone ywdblog/phpcomposer</code>,则这时候本地phpcomposer目录就是<code>ROOT包</code>,假如你在本地phpcomposer目录下<code>composer require ywdblog/phpcomposer</code>,则这时候你的项目phpcomposer就是<code>ROOT包</code>.</p>\r\n\r\n<p>了解<code>composer-schema.json</code>可<a href=\"https://github.com/composer/composer/blob/master/res/composer-schema.json\" target=\"_blank\">参考该网址</a>,Laravel作为一个成熟的框架,其定义的<a href=\"https://github.com/laravel/laravel/blob/master/composer.json\" target=\"_blank\">composer.json</a>非常经典</p>\r\n\r\n<p><strong>关于包的版本</strong><br />\r\n当使用者在本地配置<code>composer.json</code>的时候,可以指定需要包的特定版本,Composer支持从Github仓库中下载<code>Tag</code>或者<code>分支</code>下的包.</p>\r\n\r\n<p>对于Github上的Tag来说,Packagist会创建对应包的版本,它符合<code>X.Y.Z</code>,<code>vX.Y.Z</code>,<code>X.Y.Z-包类型</code>,就是说Github上虽然只有一个特定版本的包,但Composer支持多种形式的引用方式,比如:</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:1230px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:1200px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>composer&nbsp;</code><code>require</code> <code>monolog/monolog&nbsp; 1.0.0-RC1&nbsp;&nbsp; composer&nbsp;</code><code>require</code> <code>monolog/monolog&nbsp; v1.0.0-RC1&nbsp;&nbsp; composer&nbsp;</code><code>require</code> <code>monolog/monolog&nbsp; 1.0.*&nbsp; composer&nbsp;</code><code>require</code> <code>monolog/monolog&nbsp; ~1.10</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>对于Github上的分支来说,Packagist会创建对应包的版本,假如分支名看起来像一个版本,将创建<code>{分支名}-dev</code>的包版本号,如果分支名看起来不像一个版本号,它将会创建<code>dev-{分支名}</code>形式的版本号</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>composer&nbsp;</code><code>require</code> <code>monolog/monolog&nbsp; master-dev&nbsp; composer&nbsp;</code><code>require</code> <code>monolog/monolog&nbsp; master.x-dev</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p>总结:</p>\r\n\r\n<p>理解Composer,最重要的是实践,最后也能明白<code>PSR-4</code>和命名空间,也可以尝试将你的项目发布到pckagist.org上.</p>\r\n', 'admin', 7, 0, 1520647465, '1', '0');
INSERT INTO `bg_article` VALUES (22, 7, '前端HTML5几种存储方式的总结', 'default.jpg', '', '前端HTML5几种存储方式的总结', '<p>接下来要好好总结一些知识，秋招来啦。。。虽然有好多知识都不大会，但是还是要努力一下，运气这种东西，谁知道呢~</p>\r\n\r\n<h2>总体情况</h2>\r\n\r\n<p>h5之前，存储主要是用cookies。cookies缺点有在请求头上带着数据，大小是4k之内。主Domain污染。</p>\r\n\r\n<p>主要应用：购物车、客户登录</p>\r\n\r\n<p>对于IE浏览器有UserData，大小是64k,只有IE浏览器支持。</p>\r\n\r\n<h2>目标</h2>\r\n\r\n<p>解决4k的大小问题</p>\r\n\r\n<p>解决请求头常带存储信息的问题</p>\r\n\r\n<p>解决关系型存储的问题</p>\r\n\r\n<p>跨浏览器</p>\r\n\r\n<h2>1.本地存储localstorage</h2>\r\n\r\n<p><strong>存储方式：</strong></p>\r\n\r\n<p>以键值对(Key-Value)的方式存储，永久存储，永不失效，除非手动删除。</p>\r\n\r\n<p><strong>大小：</strong></p>\r\n\r\n<p>每个域名5M</p>\r\n\r\n<p><strong>支持情况：</strong></p>\r\n\r\n<p><a href=\"http://www.feehi.com//uploads/article/robot/2016/09/57c850941e147.jpg\"><img alt=\"911587-20160723133547154-1865674181\" src=\"http://www.feehi.com//uploads/article/robot/2016/09/57c850941e147.jpg\" style=\"border-style:initial; border-width:0px; height:auto; margin:0px auto\" /></a></p>\r\n\r\n<p>注意：IE9&nbsp;localStorage不支持本地文件，需要将项目署到服务器，才可以支持！</p>\r\n\r\n<p><strong>检测方法：</strong></p>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">JavaScript</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:1060.67px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:1030.67px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>if(window.localStorage){&nbsp;&nbsp; alert(</code><code>&#39;This browser supports localStorage&#39;</code><code>);&nbsp; }else{&nbsp;&nbsp; alert(</code><code>&#39;This browser does NOT support localStorage&#39;</code><code>);&nbsp; }</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n</div>\r\n\r\n<p><strong>常用的API：</strong></p>\r\n\r\n<p>getItem //取记录</p>\r\n\r\n<p>setIten//设置记录</p>\r\n\r\n<p>removeItem//移除记录</p>\r\n\r\n<p>key//取key所对应的值</p>\r\n\r\n<p>clear//清除记录</p>\r\n\r\n<p><strong>存储的内容：</strong></p>\r\n\r\n<p>数组，图片，json，样式，脚本。。。（只要是能序列化成字符串的内容都可以存储）</p>\r\n\r\n<h2>2.本地存储sessionstorage</h2>\r\n\r\n<p>HTML5 的本地存储 API 中的 localStorage 与 sessionStorage 在使用方法上是相同的，区别在于 sessionStorage 在关闭页面后即被清空，而 localStorage 则会一直保存。</p>\r\n\r\n<h2>3.离线缓存（application cache）</h2>\r\n\r\n<p>本地缓存应用所需的文件</p>\r\n\r\n<p><strong>使用方法：</strong></p>\r\n\r\n<p>①配置manifest文件</p>\r\n\r\n<p>页面上：</p>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">XHTML</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>&nbsp; </code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<p><code><code>&quot;demo.appcache&quot;</code><code>&gt;&nbsp; ...&nbsp; </code></code></p>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n\r\n<p><strong>Manifest 文件：</strong></p>\r\n\r\n<p>manifest 文件是简单的文本文件，它告知浏览器被缓存的内容（以及不缓存的内容）。</p>\r\n\r\n<p>manifest 文件可分为三个部分：</p>\r\n\r\n<p>①<em>CACHE MANIFEST</em>&nbsp;&ndash; 在此标题下列出的文件将在首次下载后进行缓存</p>\r\n\r\n<p>②<em>NETWORK</em>&nbsp;&ndash; 在此标题下列出的文件需要与服务器的连接，且不会被缓存</p>\r\n\r\n<p>③<em>FALLBACK</em>&nbsp;&ndash; 在此标题下列出的文件规定当页面无法访问时的回退页面（比如 404 页面）</p>\r\n\r\n<p><strong>完整demo：</strong></p>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>CACHE MANIFEST&nbsp; #&nbsp;</code><code>2016</code><code>-07</code><code>-24</code> <code>v</code><code>1.0</code><code>.</code><code>0</code>&nbsp; <code>/theme.css&nbsp; /main.js</code></p>\r\n\r\n			<p><code>NETWORK:&nbsp; login.jsp</code></p>\r\n\r\n			<p><code>FALLBACK:&nbsp; /html/ /offline.html</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n</div>\r\n\r\n<p><strong>服务器上：</strong>manifest文件需要配置正确的MIME-type，即 &ldquo;text/cache-manifest&rdquo;。</p>\r\n\r\n<p>如Tomcat:</p>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">XHTML</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p>&nbsp;</p>\r\n\r\n			<p><code>&nbsp;&nbsp;</code><code>manifest</code></p>\r\n\r\n			<p><code>&nbsp;&nbsp;</code><code>text/cache-manifest&nbsp; </code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n</div>\r\n\r\n<p><strong>常用API：</strong></p>\r\n\r\n<p>核心是applicationCache对象，有个status属性，表示应用缓存的当前状态：</p>\r\n\r\n<p>0（UNCACHED）&nbsp;:&nbsp; 无缓存， 即没有与页面相关的应用缓存</p>\r\n\r\n<p>1（IDLE）&nbsp;:&nbsp;闲置，即应用缓存未得到更新</p>\r\n\r\n<p>2 （CHECKING）&nbsp;:&nbsp;检查中，即正在下载描述文件并检查更新</p>\r\n\r\n<p>3 （DOWNLOADING）&nbsp;:&nbsp;下载中，即应用缓存正在下载描述文件中指定的资源</p>\r\n\r\n<p>4 （UPDATEREADY）&nbsp;:&nbsp;更新完成，所有资源都已下载完毕</p>\r\n\r\n<p>5 （IDLE）&nbsp;:&nbsp; 废弃，即应用缓存的描述文件已经不存在了，因此页面无法再访问应用缓存</p>\r\n\r\n<p><strong>相关的事件：</strong></p>\r\n\r\n<p>表示应用缓存状态的改变：</p>\r\n\r\n<p>checking : 在浏览器为应用缓存查找更新时触发</p>\r\n\r\n<p>error&nbsp;:&nbsp;在检查更新或下载资源期间发送错误时触发</p>\r\n\r\n<p>noupdate : 在检查描述文件发现文件无变化时触发</p>\r\n\r\n<p>downloading : 在开始下载应用缓存资源时触发</p>\r\n\r\n<p>progress：在文件下载应用缓存的过程中持续不断地下载地触发</p>\r\n\r\n<p>updateready : 在页面新的应用缓存下载完毕触发</p>\r\n\r\n<p>cached : 在应用缓存完整可用时触发</p>\r\n\r\n<p><strong>Application Cache的三个优势：</strong></p>\r\n\r\n<p>① 离线浏览</p>\r\n\r\n<p>② 提升页面载入速度</p>\r\n\r\n<p>③ 降低服务器压力</p>\r\n\r\n<p><strong>注意事项：</strong></p>\r\n\r\n<p>1.&nbsp;浏览器对缓存数据的容量限制可能不太一样（某些浏览器设置的限制是每个站点 5MB）<br />\r\n2. 如果manifest文件，或者内部列举的某一个文件不能正常下载，整个更新过程将视为失败，浏览器继续全部使用老的缓存<br />\r\n3. 引用manifest的html必须与manifest文件同源，在同一个域下<br />\r\n4.&nbsp;浏览器会自动缓存引用manifest文件的HTML文件，这就导致如果改了HTML内容，也需要更新版本才能做到更新。<br />\r\n5. manifest文件中CACHE则与NETWORK，FALLBACK的位置顺序没有关系，如果是隐式声明需要在最前面<br />\r\n6. FALLBACK中的资源必须和manifest文件同源<br />\r\n7. 更新完版本后，必须刷新一次才会启动新版本（会出现重刷一次页面的情况），需要添加监听版本事件。<br />\r\n8. 站点中的其他页面即使没有设置manifest属性，请求的资源如果在缓存中也从缓存中访问<br />\r\n9. 当manifest文件发生改变时，资源请求本身也会触发更新</p>\r\n\r\n<p><a href=\"http://www.cnblogs.com/lovesong/p/5021992.html?utm_medium=referral\" target=\"_blank\">点我参考更多资料！</a></p>\r\n\r\n<p><strong>离线缓存与传统浏览器缓存区别：</strong></p>\r\n\r\n<p>1. 离线缓存是针对整个应用，浏览器缓存是单个文件</p>\r\n\r\n<p>2. 离线缓存断网了还是可以打开页面，浏览器缓存不行</p>\r\n\r\n<p>3. 离线缓存可以主动通知浏览器更新资源</p>\r\n\r\n<h2>4.Web SQL</h2>\r\n\r\n<p>关系数据库，通过SQL语句访问</p>\r\n\r\n<p>Web SQL 数据库 API 并不是 HTML5 规范的一部分，但是它是一个独立的规范，引入了一组使用 SQL 操作客户端数据库的 APIs。</p>\r\n\r\n<p><strong>支持情况：</strong></p>\r\n\r\n<p>&nbsp;Web SQL 数据库可以在最新版的 Safari, Chrome 和 Opera 浏览器中工作。</p>\r\n\r\n<p><strong>核心方法：</strong></p>\r\n\r\n<p><strong>①openDatabase</strong>：这个方法使用现有的数据库或者新建的数据库创建一个数据库对象。</p>\r\n\r\n<p>②<strong>transaction</strong>：这个方法让我们能够控制一个事务，以及基于这种情况执行提交或者回滚。</p>\r\n\r\n<p>③<strong>executeSql</strong>：这个方法用于执行实际的 SQL 查询。</p>\r\n\r\n<p><strong>打开数据库：</strong></p>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">JavaScript</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:1200.67px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:1170.67px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>var db = openDatabase(</code><code>&#39;mydb&#39;</code><code>,&nbsp;</code><code>&#39;1.0&#39;</code><code>,&nbsp;</code><code>&#39;Test DB&#39;</code><code>,&nbsp;</code><code>2</code> <code>*&nbsp;</code><code>1024</code> <code>*&nbsp;</code><code>1024</code><code>,fn);&nbsp; //openDatabase() 方法对应的五个参数分别为：数据库名称、版本号、描述文本、数据库大小、创建回调</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n</div>\r\n\r\n<h2><strong>执行查询操作：</strong></h2>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n</div>\r\nJavaScript</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:767.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:737.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>var db = openDatabase(</code><code>&#39;mydb&#39;</code><code>,&nbsp;</code><code>&#39;1.0&#39;</code><code>,&nbsp;</code><code>&#39;Test DB&#39;</code><code>,&nbsp;</code><code>2</code> <code>*&nbsp;</code><code>1024</code> <code>*&nbsp;</code><code>1024</code><code>);&nbsp; db.transaction(function (tx) {</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>tx.executeSql(</code><code>&#39;CREATE TABLE IF NOT EXISTS WIN (id unique, name)&#39;</code><code>);&nbsp; });</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n</div>\r\n\r\n<p><strong>插入数据：　</strong></p>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">JavaScript</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:767.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:737.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>var db = openDatabase(</code><code>&#39;mydb&#39;</code><code>,&nbsp;</code><code>&#39;1.0&#39;</code><code>,&nbsp;</code><code>&#39;Test DB&#39;</code><code>,&nbsp;</code><code>2</code> <code>*&nbsp;</code><code>1024</code> <code>*&nbsp;</code><code>1024</code><code>);&nbsp; db.transaction(function (tx) {</code></p>\r\n\r\n			<p><code>tx.executeSql(</code><code>&#39;CREATE TABLE IF NOT EXISTS WIN (id unique, name)&#39;</code><code>);</code></p>\r\n\r\n			<p><code>tx.executeSql(</code><code>&#39;INSERT INTO WIN (id, name) VALUES (1, &quot;winty&quot;)&#39;</code><code>);</code></p>\r\n\r\n			<p><code>tx.executeSql(</code><code>&#39;INSERT INTO WIN (id, name) VALUES (2, &quot;LuckyWinty&quot;)&#39;</code><code>);&nbsp; });</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n</div>\r\n\r\n<p><strong>读取数据：</strong></p>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">JavaScript</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">db.transaction(function (tx) {<br />\r\ntx.executeSql(&#39;SELECT * FROM WIN&#39;, [], function (tx, results) {<br />\r\nvar len = results.rows.length, i;<br />\r\nmsg = &quot;&lt;p&gt;查询记录条数: &quot; + len + &quot;&lt;/p&gt;&quot;;<br />\r\ndocument.querySelector(&#39;#status&#39;).innerHTML += &nbsp;msg;<br />\r\n&nbsp; &nbsp;for (i = 0; i &lt; len; i++){<br />\r\n&nbsp; &nbsp;alert(results.rows.item(i).name );<br />\r\n}<br />\r\n}, null); &nbsp;});</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n</div>\r\n\r\n<p>由这些操作可以看出，基本上都是用SQL语句进行数据库的相关操作，如果你会MySQL的话，这个应该比较容易用。</p>\r\n\r\n<p><a href=\"http://www.runoob.com/html/html5-web-sql.html\" target=\"_blank\">点我看更多教程！</a></p>\r\n\r\n<h2>5.IndexedDB</h2>\r\n\r\n<p>索引数据库 (IndexedDB) API（作为 HTML5 的一部分）对创建具有丰富本地存储数据的数据密集型的离线 HTML5 Web 应用程序很有用。同时它还有助于本地缓存数据，使传统在线 Web 应用程序（比如移动 Web 应用程序）能够更快地运行和响应。</p>\r\n\r\n<p><strong>异步API：</strong></p>\r\n\r\n<p>在IndexedDB大部分操作并不是我们常用的调用方法，返回结果的模式，而是请求&mdash;&mdash;响应的模式，比如打开数据库的操作</p>\r\n\r\n<p><a href=\"http://www.feehi.com//uploads/article/robot/2016/09/57c8509459777.png\"><img alt=\"911587-20160724124619654-1237000279\" src=\"http://www.feehi.com//uploads/article/robot/2016/09/57c8509459777.png\" style=\"border-style:initial; border-width:0px; height:auto; margin:0px auto\" /></a></p>\r\n\r\n<p>这样，我们打开数据库的时候，实质上返回了一个DB对象，而这个对象就在result中。由上图可以看出，除了result之外。还有几个重要的属性就是onerror、onsuccess、onupgradeneeded（我们请求打开的数据库的版本号和已经存在的数据库版本号不一致的时候调用）。这就类似于我们的ajax请求那样。我们发起了这个请求之后并不能确定它什么时候才请求成功，所以需要在回调中处理一些逻辑。</p>\r\n\r\n<p><strong>关闭与删除：</strong></p>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">JavaScript</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:auto !important\">\r\n			<p>1</p>\r\n\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n			</td>\r\n			<td style=\"height:auto !important; vertical-align:baseline !important; width:733.333px\">\r\n			<div style=\"background:none !important; border:0px !important; padding:0px !important\">\r\n			<p><code>function closeDB(db){</code></p>\r\n\r\n			<p><code>&nbsp;&nbsp;</code><code>db.close();&nbsp; }&nbsp; function deleteDB(name){</code></p>\r\n\r\n			<p><code>&nbsp;&nbsp;</code><code>indexedDB.deleteDatabase(name);&nbsp; }</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<div style=\"background:none !important; border:0px !important; padding:0px !important\">&nbsp;</div>\r\n</div>\r\n\r\n<p><strong>数据存储：</strong></p>\r\n\r\n<p>indexedDB中没有表的概念，而是objectStore，一个数据库中可以包含多个objectStore，objectStore是一个灵活的数据结构，可以存放多种类型数据。也就是说一个objectStore相当于一张表，里面存储的每条数据和一个键相关联。</p>\r\n\r\n<p>我们可以使用每条记录中的某个指定字段作为键值（keyPath），也可以使用自动生成的递增数字作为键值（keyGenerator），也可以不指定。选择键的类型不同，objectStore可以存储的数据结构也有差异。</p>\r\n\r\n<p>这个就有点复杂了。看这里的教程：<br />\r\n<em>1.http://www.cnblogs.com/dolphinX/p/3415761.html　</em></p>\r\n\r\n<p>2.http://www.cnblogs.com/dolphinX/p/3416889.html</p>\r\n\r\n<p>详细API地址：http://www.ibm.com/developerworks/cn/web/wa-indexeddb/#ibm-pcon</p>\r\n\r\n<p>暂时就这样，确实有些存储方式未亲身用过，也只能找些别人的资料了。先了解个大概，以后用到再详细记录吧！</p>\r\n\r\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:auto !important; width:763.333px\">\r\n	<tbody>\r\n		<tr>\r\n			<td style=\"height: auto !important; vertical-align: baseline !important; width: auto !important;\">\r\n			<p>2</p>\r\n\r\n			<p>3</p>\r\n\r\n			<p>4</p>\r\n\r\n			<p>5</p>\r\n\r\n			<p>6</p>\r\n\r\n			<p>7</p>\r\n\r\n			<p>8</p>\r\n\r\n			<p>9</p>\r\n\r\n			<p>10</p>\r\n\r\n			<p>11</p>\r\n\r\n			<p>12</p>\r\n\r\n			<p>13</p>\r\n\r\n			<p>14</p>\r\n\r\n			<p>15</p>\r\n\r\n			<p>16</p>\r\n\r\n			<p>17</p>\r\n\r\n			<p>18</p>\r\n			</td>\r\n			<td style=\"width: 726px; height: auto !important; vertical-align: baseline !important;\">\r\n			<div style=\"background: none !important; border: 0px !important; padding: 0px !important;\">\r\n			<p><code>db.transaction(function (tx) {</code></p>\r\n\r\n			<p><code>&nbsp;</code><code>tx.executeSql(</code><code>&#39;SELECT * FROM WIN&#39;</code><code>, [], function (tx, results) {</code></p>\r\n\r\n			<p><code>var len = results.rows.length, i;</code></p>\r\n\r\n			<p><code>msg =&nbsp;</code><code>&quot;</code></p>\r\n\r\n			<p><code>查询记录条数: &quot;</code>&nbsp;<code>+ len +&nbsp;</code><code>&quot;</code></p>\r\n			<code>&quot;</code><code>;</code>\r\n\r\n			<p>&nbsp;</p>\r\n\r\n			<p><code>document.querySelector(</code><code>&#39;#status&#39;</code><code>).innerHTML +=&nbsp; msg;</code></p>\r\n\r\n			<p><code>&nbsp;&nbsp;&nbsp;</code><code>for (i =&nbsp;</code><code>0</code><code>; i &lt; len; i++){</code></p>\r\n\r\n			<p><code>&nbsp;&nbsp;&nbsp;</code><code>alert(results.rows.item(i).name );</code></p>\r\n\r\n			<p><code>}</code></p>\r\n\r\n			<p><code>}, null);&nbsp; });</code></p>\r\n			</div>\r\n			</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n', 'admin', 11, 0, 1520647768, '0', '0');
INSERT INTO `bg_article` VALUES (23, 2, '测试搜索-谢蓉', 'default.jpg', 'default.jpg', '测试搜索功能', '<p>阿蓉</p>\r\n', 'admin', 15, 1, 1520686388, '0', '0');
INSERT INTO `bg_article` VALUES (24, 23, '湘南学院简介', 'default.jpg', '', '学校位于享有“天下第十八福地”之美誉的湖南“南大门”', '<p><img alt=\"\" src=\"/Uploads/ckeditor/images/20180329/20180329103943906564.jpg\" style=\"height:260px; width:263px\" /></p>\r\n\r\n<p>湘南学院是2003年经国家教育部批准成立、2013年5月以优异成绩通过国家教育部新办本科院校本科教学工作合格评估的全日制普通本科院校。其办学历史起始于1912年创建的湖南省第三女子师范学校。</p>\r\n\r\n<p>学校位于享有&ldquo;天下第十八福地&rdquo;之美誉的湖南&ldquo;南大门&rdquo;&mdash;&mdash;郴州市，分两个校区办学，主校区位于风景秀丽的王仙岭生态公园东麓。据2014年5月学校官网显示，该校校园占地面积1463亩，总建筑面积67.7万平方米。固定资产总值6.5亿元(不含附属医院)，教学科研仪器设备总值1.3亿元，馆藏纸质图书134万册。</p>\r\n\r\n<p>该校设有15个教学院系、2个教学部、1个继续教育学院、1个国际教育学院、1所直属附属医院、3所教学医院，37个本科专业。</p>\r\n', 'admin', 14, 0, 1520785681, '0', '0');
INSERT INTO `bg_article` VALUES (25, 23, '湘南学院(院系专业)', 'default.jpg', 'default.jpg', '湘南学院', '<p>截至2016年11月，该校设有21个教学单位，有1所直属附属医院、3所协作型附属医院，110个行业、企业合作育人单位，45个本科专业 。</p>\r\n\r\n<p>文学与新闻传播学院： 汉语言文学（含师范）、新闻学、播音与主持艺术<br />\r\n外国语学院： 英语（含师范）、翻译&nbsp;&nbsp; &nbsp;<br />\r\n美术与设计学院：美术学、视觉传达设计、环境设计、产品设计&nbsp;&nbsp; &nbsp;<br />\r\n音乐学院：音乐学、音乐表演<br />\r\n电子信息与电气工程学院：电子信息科学与技术、电气工程与其自动化<br />\r\n数学与金融学院：数学与应用数学（含师范）、信息与计算科学、经济统计学<br />\r\n体育学院：体育教育（师范）、社会体育指导与管理&nbsp;&nbsp; &nbsp;<br />\r\n软件与通信工程学院：通信工程、计算机科学与技术、网络工程、物联网方向<br />\r\n经济与管理学院:&nbsp;&nbsp; &nbsp;国际经济与贸易、人力资源管理、财务管理、旅游管理、物流管理<br />\r\n法学系:&nbsp;&nbsp; &nbsp;法学、社会工作<br />\r\n化学与生命科学系:应用化学、生物技术、药学<br />\r\n临床医学系:临床医学、康复医疗学&nbsp;&nbsp; &nbsp;<br />\r\n护理学系：护理学<br />\r\n医学影像系：医学影像技术<br />\r\n预防医学与医学检验系：预防医学、医学检验技术<br />\r\n国际教育学院：预防医学（中外合作）<br />\r\n继续教育学院：基础医学部、思想政治理论教学研究部(专科)、语文教育</p>\r\n', 'admin', 0, 0, 1520786159, '0', '1');
INSERT INTO `bg_article` VALUES (26, 6, 'MVC开发模式下的用户角色权限控制', 'default.jpg', '', 'MVC开发模式', '<h2>大概思想：</h2>\r\n\r\n<p>1、在MVC开发模式下，每个功能都对应着不同的控制器或操作方法名（如修改密码功能可能对应着User/changepd），把每个功能对应的控制器名和操作方法名存到数据库中，分别分配一个Id，这样，每个功能就都对应着一个Id。</p>\r\n\r\n<p>2、在用户表中，每个用户都有一个用户角色（类似用户组）id</p>\r\n\r\n<p>3、在角色表中，每个角色id都存放着他们自身角色所拥有的功能id的集合</p>\r\n\r\n<p>然后在判断权限时，通过用户的角色Id获取相关功能id集合，然后判断当前访问的功能id是否在集合中，大致如此...</p>\r\n\r\n<h2>数据表（三个）：</h2>\r\n\r\n<p><strong>一、用户表user</strong></p>\r\n\r\n<p><strong>(结构)</strong></p>\r\n\r\n<p><img alt=\"\" src=\"/Uploads/ckeditor/images/20180329/20161224154429229-1349837706.jpg\" style=\"margin:0px\" /></p>\r\n\r\n<p><strong>二、角色表role</strong></p>\r\n\r\n<p><strong>(结构)</strong></p>\r\n\r\n<p><img alt=\"\" src=\"/Uploads/ckeditor/images/20180329/20161224154446417-2067870922.jpg\" style=\"margin:0px\" /></p>\r\n\r\n<p><strong>(数据)</strong></p>\r\n\r\n<p><img alt=\"\" src=\"/Uploads/ckeditor/images/20180329/20161224154454151-1756631759.jpg\" style=\"margin:0px\" /></p>\r\n\r\n<p><strong>(数据)</strong></p>\r\n\r\n<p><strong>三、菜单表menu</strong></p>\r\n\r\n<p><strong>(结构)</strong></p>\r\n\r\n<p><img alt=\"\" src=\"/Uploads/ckeditor/images/20180329/20161224154504104-1769917623.jpg\" style=\"margin:0px\" /></p>\r\n\r\n<p><strong>(数据)</strong></p>\r\n\r\n<p><img alt=\"\" src=\"/Uploads/ckeditor/images/20180329/20161224154509932-1775362728.jpg\" style=\"margin:0px\" /></p>\r\n\r\n<p>另，附一他人相关博客&nbsp;&nbsp;<a href=\"http://www.cnblogs.com/duanbiaowu/p/5089243.html\" target=\"_blank\">phpcms中的RBAC权限系统</a></p>\r\n', 'admin', 17, 0, 1520924593, '0', '0');
INSERT INTO `bg_article` VALUES (27, 1, '被php耽误的一名飞车手', 'thumb_20180329215614413785.jpg', '', '我与飞车的这些年', '<h2 style=\"font-style:italic\"><strong>我与小橘子的这些年---(白衣少侠)</strong></h2>\r\n\r\n<p>&nbsp; &nbsp; &nbsp; 在九月份是一个开学的日子，我心动就在这一秒，你带我加速奔跑，青春不老，我们不散，你正在收看的BYZ，我是白衣小少侠，在这里有什么样的故事在等待着我们呢！<br />\r\n&nbsp; &nbsp;&nbsp; &nbsp;和舍友们玩了四年Q飞，毕业离校前的最后一晚上，大伙跑了最后一圈秋名山，决定第二天早上，谁先醒，谁先走，不说再见，开着辆海盗撞遍了所有的墙，遇到了我的第一个也是唯一一个师父，后来再遇到撞墙的，我就成了他师父。第一次玩漂移，我连人带桌子都在跟着漂移。我知道的，你每次都在终点线前等我，再看我冲过终点，可是我想和你一起冲过终点啊，因为飞车，我才知道我是一个很爱赢的人，想赢对手，赢队友，赢自己。我见证过许多Q飞车手，在赛道驰骋的精彩瞬间。<br />\r\n&nbsp; &nbsp; &nbsp; 他们怀揣着同一份激情和热爱，在自己的青春中谱写了各式各样的动人故事，这是他们的故事，也可能是，你的故事...<br />\r\n时光过得飞快，自QQ飞车开服以来，至今已经走过了10个年头，开始一个游戏，都不止是一个游戏。怎么？输了就不玩啦？真没意思！<br />\r\n&nbsp; &nbsp; &nbsp; 这里包含了太多人的快乐、回忆...</p>\r\n\r\n<h3 style=\"color:#aaa; font-style:italic\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</h3>\r\n', '白衣少侠', 31, 1, 1522331774, '0', '0');
INSERT INTO `bg_article` VALUES (28, 6, 'smarty的{if},{elseif},{else} 内置函数', 'thumb_20180330142856399384.jpg', '20180330142856399384.jpg', 'smarty的内置函数', '<h2>{if},{elseif},{else}</h2>\r\n\r\n<p>Smarty的<code>{if}</code>条件判断和PHP的<a href=\"http://php.net/if\" target=\"_top\">if</a>&nbsp;非常相似，只是增加了一些特性。 每个<code>{if}</code>必须有一个配对的<code>{/if}</code>. 也可以使用<code>{else}</code>&nbsp;和&nbsp;<code>{elseif}</code>. 全部的PHP条件表达式和函数都可以在if内使用，如<em>||</em>,&nbsp;<em>or</em>,&nbsp;<em>&amp;&amp;</em>,&nbsp;<em>and</em>,&nbsp;<em>is_array()</em>, 等等.</p>\r\n\r\n<p>如果开启了安全机制，那么只有在<em><code>$php_functions</code></em>设置允许的PHP函数才能使用。 参见<a href=\"https://www.smarty.net/docs/zh_CN/advanced.features.tpl#advanced.features.security\">安全机制</a>。</p>\r\n\r\n<p>下面是可用的运算符列表，使用中都会放到元素的中间并且用空格分隔。 注意列表中[方括号]的是可选的，而且还会列出对应PHP的表达式。</p>\r\n\r\n<table border=\"1\">\r\n	<thead>\r\n		<tr>\r\n			<th>运算符</th>\r\n			<th>别名</th>\r\n			<th>语法示例</th>\r\n			<th>含义</th>\r\n			<th>对应PHP语法</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody>\r\n		<tr>\r\n			<td>==</td>\r\n			<td>eq</td>\r\n			<td>$a eq $b</td>\r\n			<td>等于</td>\r\n			<td>==</td>\r\n		</tr>\r\n		<tr>\r\n			<td>!=</td>\r\n			<td>ne, neq</td>\r\n			<td>$a neq $b</td>\r\n			<td>不等于</td>\r\n			<td>!=</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&gt;</td>\r\n			<td>gt</td>\r\n			<td>$a gt $b</td>\r\n			<td>大于</td>\r\n			<td>&gt;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&lt;</td>\r\n			<td>lt</td>\r\n			<td>$a lt $b</td>\r\n			<td>小于</td>\r\n			<td>&lt;</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&gt;=</td>\r\n			<td>gte, ge</td>\r\n			<td>$a ge $b</td>\r\n			<td>大于等于</td>\r\n			<td>&gt;=</td>\r\n		</tr>\r\n		<tr>\r\n			<td>&lt;=</td>\r\n			<td>lte, le</td>\r\n			<td>$a le $b</td>\r\n			<td>小于等于</td>\r\n			<td>&lt;=</td>\r\n		</tr>\r\n		<tr>\r\n			<td>===</td>\r\n			<td>&nbsp;</td>\r\n			<td>$a === 0</td>\r\n			<td>绝对等于</td>\r\n			<td>===</td>\r\n		</tr>\r\n		<tr>\r\n			<td>!</td>\r\n			<td>not</td>\r\n			<td>not $a</td>\r\n			<td>非 (一元运算)</td>\r\n			<td>!</td>\r\n		</tr>\r\n		<tr>\r\n			<td>%</td>\r\n			<td>mod</td>\r\n			<td>$a mod $b</td>\r\n			<td>取模</td>\r\n			<td>%</td>\r\n		</tr>\r\n		<tr>\r\n			<td>is [not] div by</td>\r\n			<td>&nbsp;</td>\r\n			<td>$a is not div by 4</td>\r\n			<td>取模为0</td>\r\n			<td>$a % $b == 0</td>\r\n		</tr>\r\n		<tr>\r\n			<td>is [not] even</td>\r\n			<td>&nbsp;</td>\r\n			<td>$a is not even</td>\r\n			<td>[非] 取模为0 (一元运算)</td>\r\n			<td>$a % 2 == 0</td>\r\n		</tr>\r\n		<tr>\r\n			<td>is [not] even by</td>\r\n			<td>&nbsp;</td>\r\n			<td>$a is not even by $b</td>\r\n			<td>水平分组 [非] 平均</td>\r\n			<td>($a / $b) % 2 == 0</td>\r\n		</tr>\r\n		<tr>\r\n			<td>is [not] odd</td>\r\n			<td>&nbsp;</td>\r\n			<td>$a is not odd</td>\r\n			<td>[非] 奇数 (一元运算)</td>\r\n			<td>$a % 2 != 0</td>\r\n		</tr>\r\n		<tr>\r\n			<td>is [not] odd by</td>\r\n			<td>&nbsp;</td>\r\n			<td>$a is not odd by $b</td>\r\n			<td>[非] 奇数分组</td>\r\n			<td>($a / $b) % 2 != 0</td>\r\n		</tr>\r\n	</tbody>\r\n</table>\r\n\r\n<p><strong>Example&nbsp;7.44.&nbsp;{if} 表达式</strong></p>\r\n\r\n<pre>\r\n{if $name eq &#39;Fred&#39;}\r\n    Welcome Sir.\r\n{elseif $name eq &#39;Wilma&#39;}\r\n    Welcome Ma&#39;am.\r\n{else}\r\n    Welcome, whatever you are.\r\n{/if}</pre>\r\n', '白衣少侠', 2, 0, 1522391336, '0', '0');
INSERT INTO `bg_article` VALUES (29, 29, 'Linux环境下常用命令', 'thumb_20180330150202331665.jpg', '', 'Linux相关操作及命令', '<p><a href=\"#Linux\"><strong>Linux简介及Ubuntu安装</strong></a></p>\r\n\r\n<p><a href=\"#zhiling\"><strong>常见指令</strong></a></p>\r\n\r\n<p><a href=\"#systemManager\"><strong><strong>系统管理命令</strong></strong></a></p>\r\n\r\n<p><a href=\"#tar\"><strong><strong><strong>打包压缩相关命令</strong></strong></strong></a></p>\r\n\r\n<p><a href=\"#shutdown\"><strong><strong><strong><strong>关机/重启机器</strong></strong></strong></strong></a></p>\r\n\r\n<p><a href=\"#grep\"><strong><strong><strong><strong><strong>Linux管道</strong></strong></strong></strong></strong></a></p>\r\n\r\n<p><a href=\"#dpkg\"><strong>Linux软件包管理</strong></a></p>\r\n\r\n<p><a href=\"#vim\"><strong>vim使用</strong></a></p>\r\n\r\n<p><a href=\"#usergroup\"><strong>用户及用户组管理</strong></a></p>\r\n\r\n<p><a href=\"#chmod\"><strong>文件权限管理</strong></a></p>\r\n\r\n<p>&nbsp;大牛笔记-http://tzf.afu666.xyz:81/</p>\r\n\r\n<p><a name=\"Linux\"></a><strong>Linux简介及</strong><strong>Ubuntu安装</strong></p>\r\n\r\n<p>Linux，免费开源，多用户多任务系统。基于Linux有多个版本的衍生。RedHat、Ubuntu、Debian</p>\r\n\r\n<p>安装VMware或VirtualBox虚拟机。具体安装步骤，找百度。</p>\r\n\r\n<p>再安装Ubuntu。具体安装步骤，找百度。</p>\r\n\r\n<p>安装完后，可以看到Linux系统的目录结构，见链接<a href=\"/index.php?p=Home&amp;c=Article&amp;a=show&amp;art_id=30#trips30\" target=\"_blank\">liunx目录介绍</a></p>\r\n\r\n<p><a name=\"zhiling\"></a><strong>常用指令</strong></p>\r\n\r\n<p>ls　　 &nbsp; &nbsp; &nbsp; &nbsp;显示文件或目录</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;-l &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 列出文件详细信息l(list)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;-a &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;列出当前目录下所有文件及目录，包括隐藏的a(all)</p>\r\n\r\n<p>mkdir &nbsp; &nbsp; &nbsp; &nbsp; 创建目录</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;-p &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 创建目录，若无父目录，则创建p(parent)</p>\r\n\r\n<p>cd &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 切换目录</p>\r\n\r\n<p>touch &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;创建空文件</p>\r\n\r\n<p>echo &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;创建带有内容的文件。</p>\r\n\r\n<p>cat &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;查看文件内容</p>\r\n\r\n<p>cp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;拷贝</p>\r\n\r\n<p>cp aaa/* /bbb 复制目录aaa下所有到/bbb目录下，这时如果/bbb目录下有和aaa同名的文件，需要按Y来确认并且会略过aaa目录下的子目录。</p>\r\n\r\n<p>mv &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 移动或重命名</p>\r\n\r\n<p>rm &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 删除文件</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;-r &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;递归删除，可删除子目录及文件</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;-f &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;强制删除</p>\r\n\r\n<p>find &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;在文件系统中搜索某文件</p>\r\n\r\n<p>wc &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;统计文本中行数、字数、字符数</p>\r\n\r\n<p>grep &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 在文本文件中查找某个字符串</p>\r\n\r\n<p>rmdir &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 删除空目录</p>\r\n\r\n<p>tree &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 树形结构显示目录，需要安装tree包</p>\r\n\r\n<p>pwd &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;显示当前目录</p>\r\n\r\n<p>ln &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;创建链接文件</p>\r\n\r\n<p>more、less &nbsp;分页显示文本文件内容</p>\r\n\r\n<p>head、tail &nbsp; &nbsp;显示文件头、尾内容</p>\r\n\r\n<p>ctrl+alt+F1 &nbsp;命令行全屏模式</p>\r\n\r\n<p><a name=\"systemManager\"></a><strong>系统管理命令</strong></p>\r\n\r\n<p>stat &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;显示指定文件的详细信息，比ls更详细</p>\r\n\r\n<p>who &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 显示在线登陆用户</p>\r\n\r\n<p>whoami &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;显示当前操作用户</p>\r\n\r\n<p>hostname &nbsp; &nbsp; &nbsp;显示主机名</p>\r\n\r\n<p>uname &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 显示系统信息</p>\r\n\r\n<p>top &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;动态显示当前耗费资源最多进程信息</p>\r\n\r\n<p>ps &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;显示瞬间进程状态 ps -aux</p>\r\n\r\n<p>du &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;查看目录大小 du -h /home带有单位显示目录信息</p>\r\n\r\n<p>df &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;查看磁盘大小 df -h 带有单位显示磁盘信息</p>\r\n\r\n<p>ifconfig &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;查看网络情况</p>\r\n\r\n<p>ping &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;测试网络连通</p>\r\n\r\n<p>netstat &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;显示网络状态信息</p>\r\n\r\n<p>man &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;命令不会用了，找男人&nbsp; 如：man ls</p>\r\n\r\n<p>clear &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;清屏</p>\r\n\r\n<p>alias &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 对命令重命名 如：alias showmeit=&quot;ps -aux&quot; ，另外解除使用unaliax showmeit</p>\r\n\r\n<p>kill &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 杀死进程，可以先用ps 或 top命令查看进程的id，然后再用kill命令杀死进程。</p>\r\n\r\n<p><a name=\"tar\"></a><strong>打包压缩相关命令</strong></p>\r\n\r\n<p>gzip：</p>\r\n\r\n<p>bzip2：</p>\r\n\r\n<p>tar: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;打包压缩</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;-c &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;归档文件</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;-x &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;压缩文件</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;-z &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;gzip压缩文件</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;-j &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bzip2压缩文件</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;-v &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;显示压缩或解压缩过程 v(view)</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;-f &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;使用档名</p>\r\n\r\n<p>例：</p>\r\n\r\n<p>tar -cvf /home/abc.tar /home/abc &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;只打包，不压缩</p>\r\n\r\n<p>tar -zcvf /home/abc.tar.gz /home/abc &nbsp; &nbsp; &nbsp; &nbsp;打包，并用gzip压缩</p>\r\n\r\n<p>tar -jcvf /home/abc.tar.bz2 /home/abc &nbsp; &nbsp; &nbsp;打包，并用bzip2压缩</p>\r\n\r\n<p>当然，如果想解压缩，就直接替换上面的命令&nbsp; tar -cvf&nbsp; / tar -zcvf&nbsp; / tar -jcvf 中的&ldquo;c&rdquo; 换成&ldquo;x&rdquo; 就可以了。</p>\r\n\r\n<p>uzip 将压缩文件test.zip在指定目录tmp下解压缩，如果已有相同的文件存在，要求unzip命令覆盖原先的文件。</p>\r\n\r\n<p>unzip -o (解压的文件)test.zip -d (目录名)tmp/</p>\r\n\r\n<p><a name=\"shutdown\"></a><strong>关机/重启机器</strong></p>\r\n\r\n<p>shutdown</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;-r &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 关机重启</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;-h &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 关机不重启</p>\r\n\r\n<p>&nbsp; &nbsp; &nbsp;now &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;立刻关机</p>\r\n\r\n<p>halt &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 关机</p>\r\n\r\n<p>reboot &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;重启</p>\r\n\r\n<p><a name=\"grep\"></a><strong>Linux管道</strong></p>\r\n\r\n<p>将一个命令的标准输出作为另一个命令的标准输入。也就是把几个命令组合起来使用，后一个命令除以前一个命令的结果。</p>\r\n\r\n<p>例：grep -r &quot;close&quot; /home/* | more &nbsp; &nbsp; &nbsp; 在home目录下所有文件中查找，包括close的文件，并分页输出。</p>\r\n\r\n<p><a name=\"dpkg\"></a><strong>Linux软件包管理</strong></p>\r\n\r\n<p><strong>dpkg</strong>&nbsp;(Debian Package)管理工具，软件包名以.deb后缀。这种方法适合系统不能联网的情况下。</p>\r\n\r\n<p>比如安装tree命令的安装包，先将tree.deb传到Linux系统中。再使用如下命令安装。</p>\r\n\r\n<p>sudo dpkg -i tree_1.5.3-1_i386.deb &nbsp; &nbsp; &nbsp; &nbsp; 安装软件</p>\r\n\r\n<p>sudo dpkg -r tree &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 卸载软件</p>\r\n\r\n<p>注：将tree.deb传到Linux系统中，有多种方式。VMwareTool，使用挂载方式；使用winSCP工具等；</p>\r\n\r\n<p><strong>APT</strong>（Advanced Packaging Tool）高级软件工具。这种方法适合系统能够连接互联网的情况。</p>\r\n\r\n<p>依然以tree为例</p>\r\n\r\n<p>sudo apt-get install tree &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 安装tree</p>\r\n\r\n<p>sudo apt-get remove tree &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 卸载tree</p>\r\n\r\n<p>sudo apt-get update &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 更新软件</p>\r\n\r\n<p>sudo apt-get upgrade &nbsp; &nbsp; &nbsp; &nbsp;</p>\r\n\r\n<p>将.<strong>rpm</strong>文件转为.<strong>deb</strong>文件</p>\r\n\r\n<p>.rpm为RedHat使用的软件格式。在Ubuntu下不能直接使用，所以需要转换一下。</p>\r\n\r\n<p>sudo alien abc.rpm</p>\r\n\r\n<p><a name=\"vim\"></a><strong>vim使用</strong></p>\r\n\r\n<p>vim三种模式：命令模式、插入模式、编辑模式。使用ESC或i或：来切换模式。</p>\r\n\r\n<p>命令模式下：</p>\r\n\r\n<p>:q &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;退出</p>\r\n\r\n<p>:q! &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 强制退出</p>\r\n\r\n<p>:wq &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 保存并退出</p>\r\n\r\n<p>:set number &nbsp; &nbsp; 显示行号</p>\r\n\r\n<p>:set nonumber &nbsp;隐藏行号</p>\r\n\r\n<p>/apache &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;在文档中查找apache 按n跳到下一个，shift+n上一个</p>\r\n\r\n<p>yyp &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 复制光标所在行，并粘贴</p>\r\n\r\n<p>h(左移一个字符&larr;)、j(下一行&darr;)、k(上一行&uarr;)、l(右移一个字符&rarr;)</p>\r\n\r\n<p><a name=\"usergroup\"></a><strong>用户及用户组管理</strong></p>\r\n\r\n<p>/etc/passwd &nbsp; &nbsp;存储用户账号</p>\r\n\r\n<p>/etc/group &nbsp; &nbsp; &nbsp; 存储组账号</p>\r\n\r\n<p>/etc/shadow &nbsp; &nbsp;存储用户账号的密码</p>\r\n\r\n<p>/etc/gshadow &nbsp;存储用户组账号的密码</p>\r\n\r\n<p>useradd 用户名</p>\r\n\r\n<p>userdel 用户名</p>\r\n\r\n<p>adduser 用户名</p>\r\n\r\n<p>groupadd 组名</p>\r\n\r\n<p>groupdel 组名</p>\r\n\r\n<p>passwd root &nbsp; &nbsp; 给root设置密码</p>\r\n\r\n<p>su root</p>\r\n\r\n<p>su - root&nbsp;</p>\r\n\r\n<p>/etc/profile &nbsp; &nbsp; 系统环境变量</p>\r\n\r\n<p>bash_profile &nbsp; &nbsp; 用户环境变量</p>\r\n\r\n<p>.bashrc &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;用户环境变量</p>\r\n\r\n<p>su user &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;切换用户，加载配置文件.bashrc</p>\r\n\r\n<p>su - user &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;切换用户，加载配置文件/etc/profile ，加载bash_profile</p>\r\n\r\n<p><strong>更改文件的用户及用户组</strong></p>\r\n\r\n<p>sudo chown [-R] owner[:group] {File|Directory}</p>\r\n\r\n<p>例如：还以jdk-7u21-linux-i586.tar.gz为例。属于用户hadoop，组hadoop</p>\r\n\r\n<p>要想切换此文件所属的用户及组。可以使用命令。</p>\r\n\r\n<p>sudo chown root:root&nbsp;jdk-7u21-linux-i586.tar.gz</p>\r\n\r\n<p><a name=\"chmod\"></a><strong>文件权限管理</strong></p>\r\n\r\n<p>三种基本权限</p>\r\n\r\n<p>R &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 读 &nbsp; &nbsp; &nbsp; &nbsp; 数值表示为4</p>\r\n\r\n<p>W &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;写 &nbsp; &nbsp; &nbsp; &nbsp; 数值表示为2</p>\r\n\r\n<p>X &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 可执行 &nbsp;数值表示为1</p>\r\n\r\n<p><img alt=\"\" src=\"/Uploads/ckeditor/images/20180330/20180330144921508087.jpg\" style=\"height:75px; width:300px\" /></p>\r\n\r\n<p>如图所示，jdk-7u21-linux-i586.tar.gz文件的权限为-rw-rw-r--</p>\r\n\r\n<p>-rw-rw-r--一共十个字符，分成四段。</p>\r\n\r\n<p>第一个字符&ldquo;-&rdquo;表示普通文件；这个位置还可能会出现&ldquo;l&rdquo;链接；&ldquo;d&rdquo;表示目录</p>\r\n\r\n<p>第二三四个字符&ldquo;rw-&rdquo;表示当前所属用户的权限。 &nbsp; 所以用数值表示为4+2=6</p>\r\n\r\n<p>第五六七个字符&ldquo;rw-&rdquo;表示当前所属组的权限。 &nbsp; &nbsp; &nbsp;所以用数值表示为4+2=6</p>\r\n\r\n<p>第八九十个字符&ldquo;r--&rdquo;表示其他用户权限。 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;所以用数值表示为4</p>\r\n\r\n<p>所以操作此文件的权限用数值表示为664&nbsp;</p>\r\n\r\n<p><strong>更改权限</strong></p>\r\n\r\n<p>sudo chmod [u所属用户 &nbsp;g所属组 &nbsp;o其他用户 &nbsp;a所有用户] &nbsp;[+增加权限 &nbsp;-减少权限] &nbsp;[r &nbsp;w &nbsp;x] &nbsp; 目录名&nbsp;</p>\r\n\r\n<p>例如：有一个文件filename，权限为&ldquo;-rw-r----x&rdquo; ,将权限值改为&quot;-rwxrw-r-x&quot;，用数值表示为765</p>\r\n\r\n<p>sudo chmod u+x g+w o+r &nbsp;filename</p>\r\n\r\n<p>上面的例子可以用数值表示</p>\r\n\r\n<p>sudo chmod 765 filename</p>\r\n', 'admin', 34, 2, 1522393322, '1', '0');
INSERT INTO `bg_article` VALUES (30, 29, '【Linux】Linux 目录结构', 'default.jpg', 'default.jpg', '初学Linux，首先需要弄清Linux 标准目录结构', '<p>初学Linux，首先需要弄清Linux 标准目录结构</p>\r\n\r\n<p><img alt=\"\" src=\"/Uploads/ckeditor/images/20180330/20180330153356903163.jpg\" style=\"height:345px; width:400px\" /></p>\r\n\r\n<p>/</p>\r\n\r\n<ul>\r\n	<li>root ---&nbsp;启动<a href=\"http://linux-wiki.cn/wiki/Linux\">Linux</a>时使用的一些核心文件。如操作系统<a href=\"http://linux-wiki.cn/index.php?title=%E5%86%85%E6%A0%B8&amp;action=edit&amp;redlink=1\">内核</a>、引导程序<a href=\"http://linux-wiki.cn/wiki/Category:Grub\">Grub</a>等。</li>\r\n	<li>home ---&nbsp;存储普通用户的个人文件\r\n	<ul style=\"list-style-type:disc\">\r\n		<li>ftp --- 用户所有服务</li>\r\n		<li>httpd</li>\r\n		<li>samba</li>\r\n		<li>user1</li>\r\n		<li>user2</li>\r\n	</ul>\r\n	</li>\r\n	<li>bin ---&nbsp;系统启动时需要的执行文件（二进制）</li>\r\n	<li>sbin ---&nbsp;可执行程序的目录，但大多存放涉及系统管理的命令。只有root权限才能执行</li>\r\n	<li>proc --- 虚拟，存在linux内核镜像；保存所有内核参数以及系统配置信息\r\n	<ul style=\"list-style-type:disc\">\r\n		<li>1 --- 进程编号</li>\r\n	</ul>\r\n	</li>\r\n	<li>usr --- 用户目录，存放用户级的文件\r\n	<ul style=\"list-style-type:disc\">\r\n		<li>bin --- 几乎所有用户所用命令，另外存在与/bin，/usr/local/bin</li>\r\n		<li>sbin --- 系统管理员命令，与用户相关，例如，大部分服务器程序</li>\r\n		<li>include ---&nbsp;&nbsp;存放C/C++头文件的目录</li>\r\n		<li>lib --- 固定的程序数据</li>\r\n		<li>local --- 本地安装软件保存位置</li>\r\n		<li>man --- 手工生成的目录</li>\r\n		<li>info --- 信息文档</li>\r\n		<li>doc --- 不同包文档信息</li>\r\n		<li>tmp</li>\r\n		<li>X11R6 ---&nbsp;&nbsp;该目录用于保存运行X-Window所需的所有文件。该目录中还包含用于运行GUI要的配置文件和二进制文件。</li>\r\n		<li>X386　--- 功能同X11R6，X11 发行版5 的系统文件</li>\r\n	</ul>\r\n	</li>\r\n	<li>boot --- 引导加载器所需文件，系统所需图片保存于此</li>\r\n	<li>lib ---&nbsp;根文件系统目录下程序和核心模块的公共库\r\n	<ul style=\"list-style-type:disc\">\r\n		<li>modules --- 可加载模块，系统崩溃后重启所需模块</li>\r\n	</ul>\r\n	</li>\r\n	<li>dev ---&nbsp;设备文件目录</li>\r\n	<li>etc --- 配置文件\r\n	<ul style=\"list-style-type:disc\">\r\n		<li>skel --- home目录建立，该目录初始化</li>\r\n		<li>sysconfig --- 网络，时间，键盘等配置目录</li>\r\n	</ul>\r\n	</li>\r\n	<li>var\r\n	<ul style=\"list-style-type:disc\">\r\n		<li>file</li>\r\n		<li>lib --- 该目录下的文件在系统运行时，会改变</li>\r\n		<li>local --- 安装在/usr/local的程序数据，变化的</li>\r\n		<li>lock --- 文件使用特定外设或文件，为其上锁，其他文件暂时不能访问</li>\r\n		<li>log --- 记录日志</li>\r\n		<li>run --- 系统运行合法信息</li>\r\n		<li>spool ---&nbsp;打印机、邮件、代理服务器等假脱机目录</li>\r\n		<li>tmp</li>\r\n		<li>catman --- 缓存目录</li>\r\n	</ul>\r\n	</li>\r\n	<li>mnt ---&nbsp;临时用于挂载文件系统的地方。一般情况下这个目录是空的，而在我们将要挂载分区时在这个目录下建立目录，再将我们将要访问的设备<a href=\"http://linux-wiki.cn/wiki/Category:Mount\">挂载</a>在这个目录上，这样我们就可访问文件了。</li>\r\n	<li>tmp --- 临时文件目录，系统启动后的临时文件存放在/var/tmp</li>\r\n	<li>lost+found --- 在文件系统修复时恢复的文件</li>\r\n</ul>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<p><strong>/：</strong>根目录，一般根目录下只存放目录，不要存放文件，/etc、/bin、/dev、/lib、/sbin应该和根目录放置在一个分区中</p>\r\n\r\n<p><strong>/bin:/usr/bin:</strong>可执行二进制文件的目录，如常用的命令ls、tar、mv、cat等。</p>\r\n\r\n<p><strong>/boot：</strong>放置linux系统启动时用到的一些文件。/boot/vmlinuz为linux的内核文件，以及/boot/gurb。<strong>建议单独分区，分区大小100M即可</strong></p>\r\n\r\n<p><strong>/dev：</strong>存放linux系统下的设备文件，访问该目录下某个文件，相当于访问某个设备，常用的是挂载光驱mount /dev/cdrom /mnt。</p>\r\n\r\n<p><strong>/etc：</strong>系统配置文件存放的目录，不建议在此目录下存放可执行文件，重要的配置文件有/etc/inittab、/etc/fstab、/etc/init.d、/etc/X11、/etc/sysconfig、/etc/xinetd.d修改配置文件之前记得备份。</p>\r\n\r\n<p>注：/etc/X11存放与x windows有关的设置。</p>\r\n\r\n<p><strong>/home：</strong>系统默认的用户家目录，新增用户账号时，用户的家目录都存放在此目录下，~表示当前用户的家目录，~test表示用户test的家目录。<strong>建议单独分区，并设置较大的磁盘空间，方便用户存放数据</strong></p>\r\n\r\n<p><strong>/lib:/usr/lib:/usr/local/lib：</strong>系统使用的函数库的目录，程序在执行过程中，需要调用一些额外的参数时需要函数库的协助，比较重要的目录为/lib/modules。</p>\r\n\r\n<p><strong>/lost+fount：</strong>系统异常产生错误时，会将一些遗失的片段放置于此目录下，通常这个目录会自动出现在装置目录下。如加载硬盘于/disk 中，此目录下就会自动产生目录/disk/lost+found</p>\r\n\r\n<p><strong>/mnt:/media：</strong>光盘默认挂载点，通常光盘挂载于/mnt/cdrom下，也不一定，可以选择任意位置进行挂载。</p>\r\n\r\n<p><strong>/opt：</strong>给主机额外安装软件所摆放的目录。如：FC4使用的Fedora 社群开发软件，如果想要自行安装新的KDE 桌面软件，可以将该软件安装在该目录下。以前的 Linux 系统中，习惯放置在 /usr/local 目录下</p>\r\n\r\n<p><strong>/proc：</strong>此目录的数据都在内存中，如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间，比较重要的目录有/proc/cpuinfo、/proc/interrupts、/proc/dma、/proc/ioports、/proc/net/*等</p>\r\n\r\n<p><strong>/root：</strong>系统管理员root的家目录，系统第一个启动的分区为/，所以最好将/root和/放置在一个分区下。</p>\r\n\r\n<p><strong>/sbin:/usr/sbin:/usr/local/sbin：</strong>放置系统管理员使用的可执行命令，如fdisk、shutdown、mount等。与/bin不同的是，这几个目录是给系统管理员root使用的命令，一般用户只能&quot;查看&quot;而不能设置和使用。</p>\r\n\r\n<p><strong>/tmp：</strong>一般用户或正在执行的程序临时存放文件的目录,任何人都可以访问,重要数据不可放置在此目录下</p>\r\n\r\n<p><strong>/srv：</strong>服务启动之后需要访问的数据目录，如www服务需要访问的网页数据存放在/srv/www内</p>\r\n\r\n<p><strong>/usr：</strong>应用程序存放目录，<strong>/usr/bin</strong>存放应用程序，<strong>/usr/share</strong>存放共享数据，<strong>/usr/lib</strong>存放不能直接运行的，却是许多程序运行所必需的一些函数库文件。<strong>/usr/local:</strong>存放软件升级包。<strong>/usr/share/doc:</strong>系统说明文件存放目录。<strong>/usr/share/man:</strong>&nbsp;程序说明文件存放目录，使用 man ls时会查询/usr/share/man/man1/ls.1.gz的内容<strong>建议单独分区，设置较大的磁盘空间</strong></p>\r\n\r\n<p><strong>/var：</strong>放置系统执行过程中经常变化的文件，如随时更改的日志文件/var/log，<strong>/var/log/message：</strong>所有的登录文件存放目录，<strong>/var/spool/mail</strong>：邮件存放的目录，<strong>/var/run:</strong>程序或服务启动后，其PID存放在该目录下。<strong>建议单独分区，设置较大的磁盘空间</strong></p>\r\n', 'admin', 9, 0, 1522395279, '0', '0');
INSERT INTO `bg_article` VALUES (31, 6, 'Yii2 安装 redis（从接触到放弃）', 'default.jpg', 'default.jpg', 'Yii2 安装 redis', '<p>首先感谢QQ群里帮助的小伙伴，谢谢。下面是正文：<br />\r\n一、安装全局composer</p>\r\n\r\n<ol>\r\n	<li>下载composer.phar（存放于php.exe文件夹）</li>\r\n	<li>创建composer.bat文件，编辑内容&nbsp;<code><a href=\"http://www.yiichina.com/user/30665\">@php</a>&nbsp;&quot;%~dp0composer.phar&quot; %*</code></li>\r\n	<li>设置国内镜像\r\n	<pre>\r\n<code>composer config -g repo.packagist composer https://packagist.phpcomposer.com\r\n</code></pre>\r\n\r\n	<p>查看现在使用的镜像地址：</p>\r\n\r\n	<pre>\r\n<code>composer config -gl\r\n</code></pre>\r\n\r\n	<p>看到</p>\r\n\r\n	<pre>\r\n<code>[repositories.packagist.org.url] https://packagist.phpcomposer.com\r\n</code></pre>\r\n\r\n	<p>设置成功。</p>\r\n	</li>\r\n</ol>\r\n\r\n<p>二、yii2安装redis扩展</p>\r\n\r\n<ol>\r\n	<li><a href=\"https://pecl.php.net/package/redis\">https://pecl.php.net/package/redis</a>&nbsp;根据PHP版本下载对应的redis扩展</li>\r\n	<li>解压之后将php_redis.dll以及php_redis.pdb存放于php/ext的目录下面</li>\r\n	<li>php.ini 开启openssl注释</li>\r\n	<li>php.ini添加\r\n	<pre>\r\n<code>;<strong>extension</strong>=php_igbinary.dll\r\n<strong>extension</strong>=php_redis.dll\r\n</code></pre>\r\n	</li>\r\n	<li>yii2 项目composer.json文件<br />\r\n	require键里面添加<br />\r\n	<code>&quot;yiisoft/yii2-redis&quot;: &quot;*&quot;</code></li>\r\n	<li>再执行下面命令安装：composer update</li>\r\n	<li>在组件中添加如下配置：\r\n	<pre>\r\n<code>&#39;components&#39; =&gt; [\r\n  &#39;redis&#39; =&gt; [\r\n      &#39;class&#39; =&gt; &#39;yii\\redis\\Connection&#39;,\r\n      &#39;hostname&#39; =&gt; &#39;localhost&#39;,\r\n      &#39;port&#39; =&gt; 6379,\r\n  ],\r\n]  \r\n</code></pre>\r\n	</li>\r\n</ol>\r\n\r\n<p>三、安装本地redis服务</p>\r\n\r\n<ol>\r\n	<li>地址：&nbsp;<a href=\"https://code.google.com/p/servicestack/wiki/RedisWindowsDownload\">https://code.google.com/p/servicestack/wiki/RedisWindowsDownload</a></li>\r\n	<li>解压</li>\r\n	<li>打开cmd切换到redis目录运行redis-server.exe 启动服务</li>\r\n</ol>\r\n\r\n<p>四、使用</p>\r\n\r\n<pre>\r\n<code>$redis = Yii::$app-&gt;redis;\r\n$redis-&gt;get(&#39;city&#39;,&#39;beijing&#39;);\r\n<strong>echo</strong> $redis-&gt;get(&#39;city&#39;);\r\n<strong>die</strong>();</code></pre>\r\n', 'admin', 4, 0, 1523282933, '0', '0');

-- ----------------------------
-- Table structure for bg_auth
-- ----------------------------
DROP TABLE IF EXISTS `bg_auth`;
CREATE TABLE `bg_auth`  (
  `auth_id` smallint(6) UNSIGNED NOT NULL AUTO_INCREMENT,
  `auth_name` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '权限名称',
  `auth_pid` smallint(6) UNSIGNED NOT NULL COMMENT '父id',
  `auth_c` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '控制器',
  `auth_a` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '操作方法',
  `auth_path` varchar(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '全路径',
  `auth_level` tinyint(4) NOT NULL DEFAULT 0 COMMENT '权限级别,从0开始计数',
  PRIMARY KEY (`auth_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 222 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bg_auth
-- ----------------------------
INSERT INTO `bg_auth` VALUES (98, '修改', 104, 'Master', 'edit', '104-98', 2);
INSERT INTO `bg_auth` VALUES (99, '批量彻底删除', 100, 'Category', 'realDelAll', '100-99', 2);
INSERT INTO `bg_auth` VALUES (100, '分类管理', 0, '', '', '100', 0);
INSERT INTO `bg_auth` VALUES (101, '文章管理', 0, '', '', '101', 0);
INSERT INTO `bg_auth` VALUES (102, '评论管理', 0, '', '', '102', 0);
INSERT INTO `bg_auth` VALUES (103, '单页管理', 0, '', '', '103', 0);
INSERT INTO `bg_auth` VALUES (104, '站长管理', 0, '', '', '104', 0);
INSERT INTO `bg_auth` VALUES (105, '友情链接', 0, '', '', '105', 0);
INSERT INTO `bg_auth` VALUES (106, '用户管理', 0, '', '', '106', 0);
INSERT INTO `bg_auth` VALUES (107, 'Banner管理', 0, '', '', '107', 0);
INSERT INTO `bg_auth` VALUES (108, '权限管理', 0, '', '', '108', 0);
INSERT INTO `bg_auth` VALUES (109, '分类列表', 100, 'Category', 'index', '100-109', 1);
INSERT INTO `bg_auth` VALUES (110, '添加分类', 100, 'Category', 'add', '100-110', 2);
INSERT INTO `bg_auth` VALUES (111, '批量删除', 100, 'Category', 'delAll', '100-111', 2);
INSERT INTO `bg_auth` VALUES (112, '修改', 100, 'Category', 'edit', '100-112', 2);
INSERT INTO `bg_auth` VALUES (113, '删除', 100, 'Category', 'del', '100-113', 2);
INSERT INTO `bg_auth` VALUES (114, '回收站', 100, 'Category', 'recycle', '100-114', 2);
INSERT INTO `bg_auth` VALUES (115, '一键还原', 100, 'Category', 'restore', '100-115', 2);
INSERT INTO `bg_auth` VALUES (116, '文章列表', 101, 'Article', 'index', '101-116', 1);
INSERT INTO `bg_auth` VALUES (117, '添加文章', 101, 'Article', 'add', '101-117', 2);
INSERT INTO `bg_auth` VALUES (118, '批量删除', 101, 'Article', 'delAll', '101-118', 2);
INSERT INTO `bg_auth` VALUES (119, '修改', 101, 'Article', 'edit66', '101-119', 2);
INSERT INTO `bg_auth` VALUES (120, '删除', 101, 'Article', 'del', '101-120', 2);
INSERT INTO `bg_auth` VALUES (121, '回收站', 101, 'Article', 'recycle', '101-121', 2);
INSERT INTO `bg_auth` VALUES (122, '单个id还原', 101, 'Article', 'recover', '101-122', 2);
INSERT INTO `bg_auth` VALUES (123, '一键还原', 101, 'Article', 'restore', '101-123', 2);
INSERT INTO `bg_auth` VALUES (124, '是否推荐', 101, 'Article', 'ifRecommend', '101-124', 2);
INSERT INTO `bg_auth` VALUES (125, '批量彻底删除', 101, 'Article', 'realDelAll', '101-125', 2);
INSERT INTO `bg_auth` VALUES (126, '单个id彻底删除', 101, 'Article', 'realDel', '101-126', 2);
INSERT INTO `bg_auth` VALUES (127, '评论列表', 102, 'Comment', 'index', '102-127', 1);
INSERT INTO `bg_auth` VALUES (128, '黑评论', 102, 'Comment', 'recycle', '102-128', 2);
INSERT INTO `bg_auth` VALUES (129, '批量删除', 102, 'Comment', 'delAll', '102-129', 2);
INSERT INTO `bg_auth` VALUES (130, '删除', 102, 'Comment', 'del', '102-130', 2);
INSERT INTO `bg_auth` VALUES (131, '一键还原', 102, 'Comment', 'restore', '102-131', 2);
INSERT INTO `bg_auth` VALUES (132, '单个id还原', 102, 'Comment', 'recover', '102-132', 2);
INSERT INTO `bg_auth` VALUES (133, '彻底删除', 102, 'Comment', 'realDel', '102-133', 2);
INSERT INTO `bg_auth` VALUES (134, '批量彻底删除', 102, 'Comment', 'realDelAll', '102-134', 2);
INSERT INTO `bg_auth` VALUES (135, '单页列表', 103, 'SinglePage', 'index', '103-135', 1);
INSERT INTO `bg_auth` VALUES (136, '添加', 103, 'SinglePage', 'add', '103-136', 2);
INSERT INTO `bg_auth` VALUES (137, '修改', 103, 'SinglePage', 'edit', '103-137', 2);
INSERT INTO `bg_auth` VALUES (138, '删除', 103, 'SinglePage', 'del', '103-138', 2);
INSERT INTO `bg_auth` VALUES (139, '批量删除', 103, 'SinglePage', 'delAll', '103-139', 2);
INSERT INTO `bg_auth` VALUES (140, '站长信息', 104, 'Master', 'index', '104-140', 1);
INSERT INTO `bg_auth` VALUES (141, '链接列表', 105, 'Friendship', 'index', '105-141', 1);
INSERT INTO `bg_auth` VALUES (142, '添加', 105, 'Friendship', 'add', '105-142', 2);
INSERT INTO `bg_auth` VALUES (143, '修改', 105, 'Friendship', 'edit', '105-143', 2);
INSERT INTO `bg_auth` VALUES (144, '删除', 105, 'Friendship', 'del', '105-144', 2);
INSERT INTO `bg_auth` VALUES (145, '批量删除', 105, 'Friendship', 'delAll', '105-145', 2);
INSERT INTO `bg_auth` VALUES (146, '用户列表', 106, 'User', 'index', '106-146', 1);
INSERT INTO `bg_auth` VALUES (147, '添加', 106, 'User', 'add', '106-147', 2);
INSERT INTO `bg_auth` VALUES (148, '删除', 106, 'User', 'del', '106-148', 2);
INSERT INTO `bg_auth` VALUES (149, '用户状态', 106, 'User', 'ifUserBlack', '106-149', 2);
INSERT INTO `bg_auth` VALUES (150, '批量删除', 106, 'User', 'delAll', '106-150', 2);
INSERT INTO `bg_auth` VALUES (151, 'Banner列表', 107, 'Banner', 'index', '107-151', 1);
INSERT INTO `bg_auth` VALUES (152, '添加', 107, 'Banner', 'add', '107-152', 2);
INSERT INTO `bg_auth` VALUES (153, '修改', 107, 'Banner', 'edit', '107-153', 2);
INSERT INTO `bg_auth` VALUES (154, '删除', 107, 'Banner', 'del', '107-154', 2);
INSERT INTO `bg_auth` VALUES (155, '状态', 107, 'Banner', 'ifRecommend', '107-155', 2);
INSERT INTO `bg_auth` VALUES (156, '批量删除', 107, 'Banner', 'delAll', '107-156', 2);
INSERT INTO `bg_auth` VALUES (157, '回收站', 107, 'Banner', 'recycle', '107-157', 2);
INSERT INTO `bg_auth` VALUES (158, '单个id还原', 107, 'Banner', 'recover', '107-158', 2);
INSERT INTO `bg_auth` VALUES (159, '单个id彻底删除', 107, 'Banner', 'realDel', '107-189', 2);
INSERT INTO `bg_auth` VALUES (160, '一键还原', 107, 'Banner', 'restore', '107-160', 2);
INSERT INTO `bg_auth` VALUES (161, '彻底批量删除', 107, 'Banner', 'realDel', '107-161', 2);
INSERT INTO `bg_auth` VALUES (188, '管理员列表', 108, 'AuthManager', 'index', '108-188', 1);
INSERT INTO `bg_auth` VALUES (189, '角色管理', 108, 'AuthManager', 'role', '108-189', 1);
INSERT INTO `bg_auth` VALUES (190, '权限列表', 108, 'AuthManager', 'authList', '108-190', 1);
INSERT INTO `bg_auth` VALUES (208, '管理员修改', 108, 'AuthManager', 'editAdmin', '108-188-208', 2);
INSERT INTO `bg_auth` VALUES (209, '管理员处理修改', 108, 'AuthManager', 'dealEditAdmin', '108-209', 2);
INSERT INTO `bg_auth` VALUES (210, '管理员添加', 108, 'AuthManager', 'addAdmin', '108-210', 1);
INSERT INTO `bg_auth` VALUES (211, '管理员处理添加', 108, 'AuthManager', 'dealAddAdmin', '108-211', 1);
INSERT INTO `bg_auth` VALUES (212, '管理员处理删除', 108, 'AuthManager', 'delAdmin', '108-212', 1);
INSERT INTO `bg_auth` VALUES (213, '角色添加', 108, 'AuthManager', 'addRole', '108-213', 1);
INSERT INTO `bg_auth` VALUES (214, '角色处理添加', 108, 'AuthManager', 'dealAddRole', '108-214', 1);
INSERT INTO `bg_auth` VALUES (215, '角色修改', 108, 'AuthManager', 'editRole', '108-215', 1);
INSERT INTO `bg_auth` VALUES (216, '角色处理修改', 108, 'AuthManager', 'dealEditRole', '108-216', 1);
INSERT INTO `bg_auth` VALUES (217, '角色分配权限', 108, 'AuthManager', 'distribute', '108-217', 1);
INSERT INTO `bg_auth` VALUES (218, '添加处理权限', 108, 'AuthManager', 'addAuth', '108-218', 1);
INSERT INTO `bg_auth` VALUES (219, '修改处理权限', 108, 'AuthManager', 'editAuth', '108-219', 1);
INSERT INTO `bg_auth` VALUES (220, '权限处理删除', 108, 'AuthManager', 'delAuth', '108-220', 1);
INSERT INTO `bg_auth` VALUES (221, '权限批量处理删除', 108, 'AuthManager', 'delAllAuth', '108-221', 1);

-- ----------------------------
-- Table structure for bg_banner
-- ----------------------------
DROP TABLE IF EXISTS `bg_banner`;
CREATE TABLE `bg_banner`  (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'banner的id',
  `title` text CHARACTER SET utf8 COLLATE utf8_general_ci COMMENT 'banner的标题',
  `img` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'banner.jpg' COMMENT 'banner的缩略图',
  `picture` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'banner.jpg' COMMENT 'banner的原图',
  `is_del` enum('0','1') CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT '0' COMMENT '状态(0未删除1已删除)',
  `is_recommend` enum('0','1') CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT '0' COMMENT '应用(0未应用1已应用)',
  `addtime` int(10) DEFAULT NULL COMMENT '添加时间',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = MyISAM AUTO_INCREMENT = 4 CHARACTER SET = latin1 COLLATE = latin1_swedish_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bg_banner
-- ----------------------------
INSERT INTO `bg_banner` VALUES (1, '<p>再长的路,一步步也能走完,再短的路,不迈开双脚也无法到达。</p>\r\n', 'thumb_20180312144249220393.jpg', '20180312144249220393.jpg', '1', '0', 1520865769);
INSERT INTO `bg_banner` VALUES (2, '<p>The best life is use of willing attitude, a happy-go-lucky life.</p>\r\n\r\n<p>最好的生活是用心甘情愿的态度，过随遇而安的生活。</p>\r\n', 'thumb_20180312153808809207.jpg', '20180312153808809207.jpg', '0', '0', 1520869088);
INSERT INTO `bg_banner` VALUES (3, '<p>飞雪连天射白鹿,笑书神侠倚碧鸳-。</p>\r\n\r\n<p>终南山下,活死人墓，神雕侠侣，绝迹江湖。</p>\r\n', 'thumb_20180312164612994909.jpg', '20180312164612994909.jpg', '0', '1', 1520869963);

-- ----------------------------
-- Table structure for bg_category
-- ----------------------------
DROP TABLE IF EXISTS `bg_category`;
CREATE TABLE `bg_category`  (
  `cate_id` smallint(5) UNSIGNED NOT NULL AUTO_INCREMENT,
  `cate_name` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `cate_pid` smallint(5) UNSIGNED NOT NULL,
  `cate_sort` smallint(6) NOT NULL,
  `cate_desc` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
  `is_del` enum('0','1') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0' COMMENT '是否删除',
  `del_time` int(11) NOT NULL DEFAULT 0 COMMENT '上次删除时间',
  PRIMARY KEY (`cate_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 30 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bg_category
-- ----------------------------
INSERT INTO `bg_category` VALUES (1, '慢生活', 0, 1, '慢生活有益健康', '0', 1505114459);
INSERT INTO `bg_category` VALUES (2, '日记', 1, 1, '我的点点滴滴', '0', 1505114459);
INSERT INTO `bg_category` VALUES (3, '欣赏', 1, 2, '请大家随便看看', '0', 1505114459);
INSERT INTO `bg_category` VALUES (4, '程序人生', 1, 3, '程序人生很苦逼', '0', 1505114459);
INSERT INTO `bg_category` VALUES (5, '经典语录', 1, 4, '哥的经典语录', '0', 1505114459);
INSERT INTO `bg_category` VALUES (6, 'PHP', 0, 2, 'PHP相关知识', '0', 1505114459);
INSERT INTO `bg_category` VALUES (7, 'HTML', 6, 1, 'web开发入门知识', '0', 1505114459);
INSERT INTO `bg_category` VALUES (8, 'Mysql', 6, 2, '我与PHP是“黄金搭档”', '0', 1505114459);
INSERT INTO `bg_category` VALUES (9, 'OOP', 6, 3, '我与MVC是“黄金搭档”', '0', 1505114459);
INSERT INTO `bg_category` VALUES (10, '游记', 0, 3, '我的旅程', '0', 1505114459);
INSERT INTO `bg_category` VALUES (11, '北京', 10, 1, '北京的天安门', '0', 1505114459);
INSERT INTO `bg_category` VALUES (12, '上海', 10, 2, '玄乎的上海滩', '0', 1505114459);
INSERT INTO `bg_category` VALUES (15, '宝安区', 20, 2, '有个街道', '0', 1505114459);
INSERT INTO `bg_category` VALUES (18, '茂名', 19, 12, '有个温泉', '0', 1505114459);
INSERT INTO `bg_category` VALUES (19, '广州', 10, 3, '走过的茂名', '0', 1505114459);
INSERT INTO `bg_category` VALUES (20, '深圳', 10, 4, '深圳的点点滴滴', '0', 1505114459);
INSERT INTO `bg_category` VALUES (23, '湘南学院', 0, 6, '在湘南的日子里', '0', 1510063240);
INSERT INTO `bg_category` VALUES (24, '三食堂', 23, 1, '套餐还是不错的', '1', 1510063240);
INSERT INTO `bg_category` VALUES (25, '嘉年华超市', 23, 2, '好吃的辣条', '1', 1525705381);
INSERT INTO `bg_category` VALUES (26, '实验楼', 23, 3, '和908有个约会', '1', 1521263098);
INSERT INTO `bg_category` VALUES (28, '院校信息', 23, 4, '湘南学院简述', '1', 1521263098);
INSERT INTO `bg_category` VALUES (29, 'Liunx', 6, 4, 'lamp的伙伴', '0', 1522392460);

-- ----------------------------
-- Table structure for bg_comment
-- ----------------------------
DROP TABLE IF EXISTS `bg_comment`;
CREATE TABLE `bg_comment`  (
  `cmt_id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `art_id` smallint(5) UNSIGNED DEFAULT NULL,
  `cmt_user` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `cmt_content` text CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `cmt_time` int(10) UNSIGNED NOT NULL,
  `is_del` enum('0','1') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '0',
  PRIMARY KEY (`cmt_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 11 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bg_comment
-- ----------------------------
INSERT INTO `bg_comment` VALUES (1, 8, 'xiaotan', '程序员也很苦逼', 1503024455, '1');
INSERT INTO `bg_comment` VALUES (2, 8, 'baiyishaoxia', '时间就是答案', 1503036055, '0');
INSERT INTO `bg_comment` VALUES (3, 13, 'xiaotan', '待开发中，考虑种种网络安全因素', 1503039520, '0');
INSERT INTO `bg_comment` VALUES (4, 2, '鄢猛', '来顶一下', 1520752190, '0');
INSERT INTO `bg_comment` VALUES (5, 19, '鄢猛', '还有，那2018 年 PHP 程序员未来路在何方？', 1520782519, '0');
INSERT INTO `bg_comment` VALUES (6, 3, '阿福', '写php，我为自己代言。', 1520788232, '0');
INSERT INTO `bg_comment` VALUES (7, 23, 'smail', '测试评论', 1522302479, '0');
INSERT INTO `bg_comment` VALUES (8, 29, 'baiyishaoxia', 'liunx命令很能强大，命令代替鼠标，哈哈', 1524115363, '0');
INSERT INTO `bg_comment` VALUES (9, 27, '小虎', '抢个沙发坐坐，哈哈', 1525741856, '0');
INSERT INTO `bg_comment` VALUES (10, 29, '湘南学子', '日狗了，卧槽，你快来', 1526483186, '0');

-- ----------------------------
-- Table structure for bg_friendship
-- ----------------------------
DROP TABLE IF EXISTS `bg_friendship`;
CREATE TABLE `bg_friendship`  (
  `frd_id` smallint(5) UNSIGNED NOT NULL AUTO_INCREMENT,
  `frd_name` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `frd_url` text CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '链接地址',
  PRIMARY KEY (`frd_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 10 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bg_friendship
-- ----------------------------
INSERT INTO `bg_friendship` VALUES (1, '百度一下', 'https://www.baidu.com');
INSERT INTO `bg_friendship` VALUES (2, '淘宝网', 'https://www.taobao.com');
INSERT INTO `bg_friendship` VALUES (6, 'php第一社区', 'https://www.php1.cn/');
INSERT INTO `bg_friendship` VALUES (7, '菜鸟学院', 'http://www.runoob.com/');
INSERT INTO `bg_friendship` VALUES (8, 'hao123', 'http://www.hao123.com');
INSERT INTO `bg_friendship` VALUES (9, '博客园', 'https://www.cnblogs.com/');

-- ----------------------------
-- Table structure for bg_master
-- ----------------------------
DROP TABLE IF EXISTS `bg_master`;
CREATE TABLE `bg_master`  (
  `id` tinyint(4) NOT NULL AUTO_INCREMENT,
  `nickname` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `job` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `home` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `tel` char(11) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `email` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `aboutname` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '标题',
  `signature` varchar(40) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '个性签名',
  `headerthumb` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'default.jpg' COMMENT '头像',
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bg_master
-- ----------------------------
INSERT INTO `bg_master` VALUES (1, '白衣少侠', 'PHPer攻城狮', '湖南|永州|', '13348677777', '2273465837@qq.com', '执子之手，与子偕老', '于千万人之中，我遇见了我所遇见的人....', '20170815095659382120.jpg');

-- ----------------------------
-- Table structure for bg_role
-- ----------------------------
DROP TABLE IF EXISTS `bg_role`;
CREATE TABLE `bg_role`  (
  `role_id` smallint(6) UNSIGNED NOT NULL AUTO_INCREMENT,
  `role_name` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT '角色名称',
  `role_auth_ids` varchar(1000) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '权限ids',
  `role_auth_ac` text CHARACTER SET utf8 COLLATE utf8_general_ci COMMENT '控制器-操作,控制器-操作,控制器-操作',
  PRIMARY KEY (`role_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 15 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bg_role
-- ----------------------------
INSERT INTO `bg_role` VALUES (10, '分类经理', '100,99,109,110,111,112,113,114,115', 'Category-realDelAll,Category-index,Category-add,Category-delAll,Category-edit,Category-del,Category-recycle,Category-restore');
INSERT INTO `bg_role` VALUES (11, '分类部长', '100,109,112,113,114,115', 'Category-index,Category-edit,Category-del,Category-recycle,Category-restore');
INSERT INTO `bg_role` VALUES (12, 'php总监', '100,109,101,116,102,127,103,135,104,105,141,106,146,107,151,108,188', 'Category-index,Article-index,Comment-index,SinglePage-index,Friendship-index,User-index,Banner-index,AuthManager-index');
INSERT INTO `bg_role` VALUES (13, '技术人员审核', '100,109,110,112,113,114,101,116,117,118,119,120,121,102,127,128,129,130,103,135,136,137,104,140,105,141,142,143,106,146,147,107,151,152,153,154,155,156,157,108,188,189,190,210,213,215', 'Category-index,Category-add,Category-edit,Category-del,Category-recycle,Article-index,Article-add,Article-delAll,Article-edit66,Article-del,Article-recycle,Comment-index,Comment-recycle,Comment-delAll,Comment-del,SinglePage-index,SinglePage-add,SinglePage-edit,Master-index,Friendship-index,Friendship-add,Friendship-edit,User-index,User-add,Banner-index,Banner-add,Banner-edit,Banner-del,Banner-ifRecommend,Banner-delAll,Banner-recycle,AuthManager-index,AuthManager-role,AuthManager-authList,AuthManager-addAdmin,AuthManager-addRole,AuthManager-editRole');
INSERT INTO `bg_role` VALUES (14, 'why？', '', 'Category-index');

-- ----------------------------
-- Table structure for bg_singlepage
-- ----------------------------
DROP TABLE IF EXISTS `bg_singlepage`;
CREATE TABLE `bg_singlepage`  (
  `page_id` tinyint(3) UNSIGNED NOT NULL AUTO_INCREMENT,
  `title` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `content` text CHARACTER SET utf8 COLLATE utf8_general_ci,
  PRIMARY KEY (`page_id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bg_singlepage
-- ----------------------------
INSERT INTO `bg_singlepage` VALUES (1, '关于作者', '<h2>Just about me</h2>\r\n\r\n<h3 style=\"color:#aaa; font-style:italic\">(白衣少侠、疯子也有梦、白软工作室、白软科技、第三方伙伴)</h3>\r\n\r\n<p>自从厌倦于追寻，我已学会一觅即中；自从一股寒风袭来，我已能抗御八面来风驾舟而行。</p>\r\n\r\n<p>白衣少侠(化名)，男，一个90后的编程爱好者！人生就是一个得与失的过程，而我却是一个幸运者，得到的永远比失去的多。生活的压力迫使我放弃了轻松的前台接待，放弃了体面的编辑，换来虽有些蓬头垢面的工作，但是我仍然很享受那些熬得只剩下黑眼圈的日子，因为我在学习使用Mysql、Linux、Dreamweaver、Javascript、PHP、ThinkPHP、YII...中激发了兴趣，然后越走越远....</p>\r\n\r\n<h2>最近优化</h2>\r\n\r\n<h3 style=\"color:#aaa; font-style:italic\">(为了你们的方便，欢迎您提出宝贵意见！)</h3>\r\n\r\n<p>1、优化了最新评论的显示(按照 秒/分钟/小时/星期/月/年等)来显示。(2018-3-13)</p>\r\n\r\n<p>2、增加了&ldquo;整站搜索&rdquo;、公告栏等功能。(2018-3-15)</p>\r\n\r\n<p>3、优化了登录及注册界面，为用户登录新増&ldquo;找回密码&rdquo;等功能。(2018-3-16)</p>\r\n\r\n<p>4、优化了后台菜单栏及新増&ldquo;Banner管理&rdquo;、&ldquo;权限管理&rdquo;等功能。(2018-3-19)</p>\r\n\r\n<p>5、优化了前台登录注册响应样式，为注册时增加&ldquo;验证码&rdquo;判断输入框(防止恶意XSS攻击)。(2018-3-29)</p>\r\n\r\n<h2>性能指数：</h2>\r\n\r\n<h3 style=\"color:#aaa; font-style:italic\">(内容评比、运行环境、测试用例、响应速度)</h3>\r\n\r\n<p>欢迎您的光临，本站所发布之文章皆为作者亲测通过，如有错误，欢迎通过各种方式指正。 (本站已于2018.3.20升级到php7,运行环境php5.4以上&nbsp;+ mysql5.7.14 + Apache2.4.23)</p>\r\n\r\n<h2>后台地址：</h2>\r\n\r\n<pre>\r\n<a href=\"http://www.bbk.com/index.php?p=Back\" target=\"_blank\">进入空间后台管理</a></pre>\r\n\r\n<ul>\r\n</ul>\r\n\r\n<ul>\r\n</ul>\r\n');

-- ----------------------------
-- Table structure for bg_user
-- ----------------------------
DROP TABLE IF EXISTS `bg_user`;
CREATE TABLE `bg_user`  (
  `user_id` smallint(5) UNSIGNED NOT NULL AUTO_INCREMENT,
  `user_name` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `user_pass` char(32) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `user_image` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'default.jpg' COMMENT '头像',
  `user_thumb` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'default.jpg' COMMENT '缩略图',
  `user_time` int(10) UNSIGNED NOT NULL DEFAULT 0 COMMENT '注册时间',
  `login_time` int(10) UNSIGNED NOT NULL DEFAULT 0 COMMENT '最近登陆时间',
  `user_email` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL COMMENT '邮箱',
  `user_type` enum('0','1') CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT '0' COMMENT '状态(0正常1禁用)',
  PRIMARY KEY (`user_id`) USING BTREE,
  UNIQUE INDEX `user_name`(`user_name`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 25 CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of bg_user
-- ----------------------------
INSERT INTO `bg_user` VALUES (1, 'baiyishaoxia', 'e10adc3949ba59abbe56e057f20f883e', '20170820114812525090.jpg', 'thumb_20170820114812525090.jpg', 1501940869, 1524115319, NULL, '0');
INSERT INTO `bg_user` VALUES (8, 'test', '123456', 'default.jpg', 'default.jpg', 1502973161, 0, NULL, '0');
INSERT INTO `bg_user` VALUES (10, 'xiaotan', 'e10adc3949ba59abbe56e057f20f883e', '20170820114551381354.jpg', 'thumb_20170820114551381354.jpg', 1503024346, 1520752078, NULL, '0');
INSERT INTO `bg_user` VALUES (11, 'wzz', 'e10adc3949ba59abbe56e057f20f883e', '20170820121326949175.jpg', 'thumb_20170820121326949175.jpg', 1503206799, 1503223640, NULL, '0');
INSERT INTO `bg_user` VALUES (13, 'liuhao', 'e10adc3949ba59abbe56e057f20f883e', '20170820094342621432.jpg', 'thumb_20170820094342621432.jpg', 1503215022, 1520783610, NULL, '0');
INSERT INTO `bg_user` VALUES (14, 'yanmeng', 'e10adc3949ba59abbe56e057f20f883e', 'default.jpg', 'default.jpg', 1520752115, 1520752115, NULL, '0');
INSERT INTO `bg_user` VALUES (15, '鄢猛', 'e10adc3949ba59abbe56e057f20f883e', 'default.jpg', 'default.jpg', 1520752153, 1520782493, NULL, '0');
INSERT INTO `bg_user` VALUES (16, '阿福', 'e10adc3949ba59abbe56e057f20f883e', 'default.jpg', 'default.jpg', 1520760453, 1522340992, '666888@qq.com', '0');
INSERT INTO `bg_user` VALUES (17, '唐风', 'e10adc3949ba59abbe56e057f20f883e', '20180313092538691961.jpg', 'thumb_20180313092538691961.jpg', 1520933138, 1520948775, '532073083@qq.com', '1');
INSERT INTO `bg_user` VALUES (18, '李懿风', 'e10adc3949ba59abbe56e057f20f883e', '20180313135847647890.jpg', 'thumb_20180313135847647890.jpg', 1520949527, 1520949527, '123456@qq.com', '0');
INSERT INTO `bg_user` VALUES (19, 'abc', '96e79218965eb72c92a549dd5a330112', 'default.jpg', 'default.jpg', 1522294817, 1522403798, '15424@qq.com', '0');
INSERT INTO `bg_user` VALUES (20, 'smail', 'e10adc3949ba59abbe56e057f20f883e', '20180329134642945008.jpg', 'thumb_20180329134642945008.jpg', 1522302402, 1525741003, '123456@qq.cm', '0');
INSERT INTO `bg_user` VALUES (21, 'verify', 'e10adc3949ba59abbe56e057f20f883e', '20180329180140135427.jpeg', 'thumb_20180329180140135427.jpeg', 1522317700, 1522317716, '123456@qq.com', '0');
INSERT INTO `bg_user` VALUES (22, '詹淋淋', 'e10adc3949ba59abbe56e057f20f883e', 'default.jpg', 'default.jpg', 1522333324, 1522333350, '1429118038@QQ.com', '0');
INSERT INTO `bg_user` VALUES (23, '小虎', 'e10adc3949ba59abbe56e057f20f883e', '20180508090501369874.jpg', 'thumb_20180508090501369874.jpg', 1525741501, 1525741553, '17458623@126.com', '0');
INSERT INTO `bg_user` VALUES (24, '湘南学子', 'e10adc3949ba59abbe56e057f20f883e', '20180512081108494390.jpg', 'thumb_20180512081108494390.jpg', 1526083868, 1526483145, '122366@126.com', '0');

SET FOREIGN_KEY_CHECKS = 1;
